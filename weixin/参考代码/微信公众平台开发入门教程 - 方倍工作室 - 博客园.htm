<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0053)http://www.cnblogs.com/txw1958/p/wechat-tutorial.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/encoder.js"></script>

<title>微信公众平台开发入门教程 - 方倍工作室 - 博客园</title>
<link type="text/css" rel="stylesheet" href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/style.css">
<link type="text/css" rel="stylesheet" href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/99079.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/txw1958/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/txw1958/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/txw1958/wlwmanifest.xml">
<script async="" type="text/javascript" src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/gpt.js"></script><script src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'txw1958', cb_enable_mathjax=false;</script>
<script src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/blog-common.js" type="text/javascript"></script>
<script async="" type="text/javascript" src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/pubads_impl_42.js"></script><script type="text/javascript" async="" src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/embed.js" charset="UTF-8"></script><link type="text/css" rel="stylesheet" href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/embed.default.css"></head>
<body>
<a name="top"></a>

<div id="home">
<div id="header">
	<div id="blogTitle">
		
<!--done-->
<div class="title"><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/txw1958/">方倍工作室</a></div>
<div class="subtitle">微信公众平台开发 联系QQ:1354386063</div>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li id="nav_sitehome"></li>
<li id="nav_myhome"><a id="MyLinks1_MyHomeLink" class="menu" href="http://www.cnblogs.com/txw1958/">首页</a></li>
<li id="nav_q"><a class="menu" href="http://q.cnblogs.com/">博问</a></li>
<li id="nav_ing"><a class="menu" href="http://home.cnblogs.com/ing/">闪存</a></li>
<li id="nav_newpost"><a id="MyLinks1_NewPostLink" class="menu" rel="nofollow" href="http://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li id="nav_contact"><a id="MyLinks1_ContactLink" class="menu" rel="nofollow" href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4">联系</a></li>
<li id="nav_rss">
<!----></li>
<li id="nav_admin"><a id="MyLinks1_Admin" class="menu" rel="nofollow" href="http://i.cnblogs.com/">管理</a></li>
</ul>

		<div class="blogStats">
			
			
<!--done-->
随笔-455&nbsp;
文章-6&nbsp;
评论-783&nbsp;

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		

<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/微信公众平台开发入门教程 - 方倍工作室 - 博客园.htm">微信公众平台开发入门教程</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body"><p>关键字：<strong>微信公众平台开发</strong><br>作者：方倍工作室</p>
<p>&nbsp;</p>
<p>在这篇微信公众平台开发教程中，我们假定你已经有了PHP语言程序、MySQL数据库、计算机网络通讯、及HTTP/XML/CSS/JS等基础。</p>
<p>我们将使用微信公众账号方倍工作室作为讲解的例子，二维码见底部。</p>
<p>本系列教程将引导你完成如下任务：</p>
<ol>
<li>创建新浪云计算平台应用</li>
<li>启用微信公众平台开发模式</li>
<li>基础接口消息及事件</li>
<li>微信公众平台PHP SDK</li>
<li>微信公众平台开发模式原理</li>
<li>开发天气预报功能</li>














</ol>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><span style="font-size: 18pt;"><strong>第一章 申请服务器资源</strong></span></p>
<p><span style="font-size: 14pt;"><strong>创建新浪云计算应用</strong></span></p>
<p><strong>申请账号</strong></p>
<p>我们使用SAE新浪云计算平台作为服务器资源，并且申请PHP环境+MySQL数据库作为程序运行环境。<br>申请地址：<a href="http://sae.sina.com.cn/" target="_blank">http://sae.sina.com.cn/ </a>，使用新浪微博账号可以直接登录SAE，登录后SAE将赠送500个免费云豆。</p>
<p>&nbsp;<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160136-a405becfd9074568910325dd0eb87833.jpg" alt=""></p>
<p>&nbsp;</p>
<p><strong>创建新应用&nbsp;</strong><span style="color: #ffffff;">http://www.cnblogs.com/txw1958/p/wechat-tutorial.html<a id="Editor_Edit_hlEntryLink" title="view: 微信公众平台开发入门教程" href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/微信公众平台开发入门教程 - 方倍工作室 - 博客园.htm" target="_blank"></a>&nbsp;</span></p>
<p align="left">登录后点击顶部【<strong><span style="background-color: #000080; color: #00ccff;">我的首页</span></strong>】</p>
<p align="left"><img style="line-height: 1.5;" src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/111338380288458.png" alt=""></p>
<p>点击下侧的<span style="color: #ffffff; background-color: #3366ff;">创建新应用</span>，这时会弹出提示， 禁止放置违法违规内容，点击<span style="background-color: #3366ff; color: #ffffff;">继续创建</span>，弹出如下窗口。</p>
<p>&nbsp;<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160202-5bce13241e8c4c039fffbf3e9c789a26.jpg" alt=""></p>
<p><span style="background-color: #c0c0c0;">选择一个未使用的appid，如果老是已经被使用不知道该什么好，就填写你的QQ号或者手机号吧。</span></p>
<p>填写二级域名AppID、应用名称、验证码，开发语言选择PHP，应用类型选择web应用。然后点击<span style="color: #ffffff; background-color: #3366ff;">创建应用</span></p>
<p>&nbsp;<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160215-973eb4c63145469dac9a717d7ed49573.jpg" alt=""></p>
<p>应用创建成功。并自动跳转到应用列表中，可以看到已经有刚才创建的CCTV-7</p>
<p>&nbsp;<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160229-f4c31df13ae84fafa4bc0cfe07df9f68.jpg" alt=""></p>
<p>&nbsp;</p>
<p><strong>创建版本&nbsp;</strong><span style="color: #ffffff;">http://www.cnblogs.com/txw1958/p/wechat-tutorial.html&nbsp;</span></p>
<p>选择CCTV-7右侧的<strong>应用管理</strong>下面的<strong>代码管理</strong>，</p>
<p>&nbsp;<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160238-994cc70ce35a4f79bd2283cb70cf0d2b.jpg" alt=""></p>
<p>跳转到代码管理</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160259-c032fe805947401b800434b2d2ae15f5.jpg" alt=""></p>
<p>点击右侧的<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/05105823-5d285772cf1946658401c876243a67bd.jpg" alt=""></p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160825-d148a50efba34fe3a92aec1013d3125d.jpg" alt=""></p>
<p>版本号默认为1，点击创建，成功后如下图所示：</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160842-11eed918702e4a669677b3c30243eb3a.jpg" alt=""></p>
<p>&nbsp;</p>
<p>到这里，就成功创建了一个域名URL为&nbsp;<a href="http://cctv7.sinaapp.com/">http://cctv7.sinaapp.com/</a>&nbsp;的应用了。</p>
<p><span style="color: #ffffff;">&nbsp;原文：http://www.cnblogs.com/txw1958/p/wechat-tutorial.html&nbsp;</span></p>
<p><strong>上传代码&nbsp;</strong><span style="color: #ffffff;">http://www.cnblogs.com/txw1958/p/wechat-tutorial.html<a id="Editor_Edit_hlEntryLink" title="view: 微信公众平台开发入门教程" href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/微信公众平台开发入门教程 - 方倍工作室 - 博客园.htm" target="_blank"></a>&nbsp;</span></p>
<p>将以下代码复制下来，另存为index.php。必须使用专业的开发编辑软件操作，例如Notepad++，不要使用Windows自带的记事本等。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">/*</span><span style="color: #008000;">
    方倍工作室 http://www.cnblogs.com/txw1958/
    CopyRight 2013 www.doucube.com  All Rights Reserved
</span><span style="color: #008000;">*/</span>

<span style="color: #008080;">define</span>("TOKEN", "weixin"<span style="color: #000000;">);
</span><span style="color: #800080;">$wechatObj</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> wechatCallbackapiTest();
</span><span style="color: #0000ff;">if</span> (<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$_GET</span>['echostr'<span style="color: #000000;">])) {
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">valid();
}</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">responseMsg();
}

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> wechatCallbackapiTest
{
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> valid()
    {
        </span><span style="color: #800080;">$echoStr</span> = <span style="color: #800080;">$_GET</span>["echostr"<span style="color: #000000;">];
        </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$this</span>-&gt;<span style="color: #000000;">checkSignature()){
            </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$echoStr</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> checkSignature()
    {
        </span><span style="color: #800080;">$signature</span> = <span style="color: #800080;">$_GET</span>["signature"<span style="color: #000000;">];
        </span><span style="color: #800080;">$timestamp</span> = <span style="color: #800080;">$_GET</span>["timestamp"<span style="color: #000000;">];
        </span><span style="color: #800080;">$nonce</span> = <span style="color: #800080;">$_GET</span>["nonce"<span style="color: #000000;">];

        </span><span style="color: #800080;">$token</span> =<span style="color: #000000;"> TOKEN;
        </span><span style="color: #800080;">$tmpArr</span> = <span style="color: #0000ff;">array</span>(<span style="color: #800080;">$token</span>, <span style="color: #800080;">$timestamp</span>, <span style="color: #800080;">$nonce</span><span style="color: #000000;">);
        </span><span style="color: #008080;">sort</span>(<span style="color: #800080;">$tmpArr</span><span style="color: #000000;">);
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">implode</span>( <span style="color: #800080;">$tmpArr</span><span style="color: #000000;"> );
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">sha1</span>( <span style="color: #800080;">$tmpStr</span><span style="color: #000000;"> );

        </span><span style="color: #0000ff;">if</span>( <span style="color: #800080;">$tmpStr</span> == <span style="color: #800080;">$signature</span><span style="color: #000000;"> ){
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> responseMsg()
    {
        </span><span style="color: #800080;">$postStr</span> = <span style="color: #800080;">$GLOBALS</span>["HTTP_RAW_POST_DATA"<span style="color: #000000;">];

        </span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">empty</span>(<span style="color: #800080;">$postStr</span><span style="color: #000000;">)){
            </span><span style="color: #800080;">$postObj</span> = <span style="color: #008080;">simplexml_load_string</span>(<span style="color: #800080;">$postStr</span>, 'SimpleXMLElement',<span style="color: #000000;"> LIBXML_NOCDATA);
            </span><span style="color: #800080;">$fromUsername</span> = <span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">FromUserName;
            </span><span style="color: #800080;">$toUsername</span> = <span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">ToUserName;
            </span><span style="color: #800080;">$keyword</span> = <span style="color: #008080;">trim</span>(<span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">Content);
            </span><span style="color: #800080;">$time</span> = <span style="color: #008080;">time</span><span style="color: #000000;">();
            </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
                        &lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
                        &lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
                        &lt;CreateTime&gt;%s&lt;/CreateTime&gt;
                        &lt;MsgType&gt;&lt;![CDATA[%s]]&gt;&lt;/MsgType&gt;
                        &lt;Content&gt;&lt;![CDATA[%s]]&gt;&lt;/Content&gt;
                        &lt;FuncFlag&gt;0&lt;/FuncFlag&gt;
                        &lt;/xml&gt;</span>"<span style="color: #000000;">;
            </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$keyword</span> == "?" || <span style="color: #800080;">$keyword</span> == "？"<span style="color: #000000;">)
            {
                </span><span style="color: #800080;">$msgType</span> = "text"<span style="color: #000000;">;
                </span><span style="color: #800080;">$contentStr</span> = <span style="color: #008080;">date</span>("Y-m-d H:i:s",<span style="color: #008080;">time</span><span style="color: #000000;">());
                </span><span style="color: #800080;">$resultStr</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$fromUsername</span>, <span style="color: #800080;">$toUsername</span>, <span style="color: #800080;">$time</span>, <span style="color: #800080;">$msgType</span>, <span style="color: #800080;">$contentStr</span><span style="color: #000000;">);
                </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$resultStr</span><span style="color: #000000;">;
            }
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #0000ff;">echo</span> ""<span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }
}
</span>?&gt;</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>然后将index.php文件压缩成ZIP格式，注意不能用RAR格式</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/27112312-0ce2b10adbd3458cbcb5cebfa8ca4e40.jpg" alt=""></p>
<p>这样会生成一个index.zip的文件。或者直接下载方倍已经压缩好的zip文件 <strong><span style="color: #ff0000;"><a href="http://files.cnblogs.com/txw1958/index.zip" target="_blank"><span style="color: #ff0000;">点此下载</span></a></span></strong></p>
<p>在代码管理界面中，选择操作按钮。</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160919-8196c4bc2a284af89f9b3329946731ac.jpg" alt=""></p>
<p>选择上传代码包。</p>
<p>点击上传文件，选择刚才压缩好的index.zip文件，点击上传，上传成功后如下所示，<strong>如果上传有问题，请在Chrome浏览器下重试一下。</strong></p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07160951-d3c9bf1091ef4f1c85d11246814bd514.jpg" alt=""></p>
<p>点击操作按钮下的代码编辑，</p>
<p>&nbsp;<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/07161010-f2c17a4646a944f5885a480eb31a2f67.jpg" alt=""></p>
<p>有时候需要输入自己的安全密码，如果不记得了就点击“找回密码”。</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/131140465772894.png" alt=""></p>
<p>安全验证成功后继续之前的操作。</p>
<p>我们可以看到index.php已经上传成功，双击可以查看编辑里面的代码</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/05112932-8e1afffc72e748f0b245ed6724049ad9.jpg" alt=""></p>
<p>新浪云应用的创建就成功了。</p>
<p>&nbsp;</p>
<p style="text-align: center;"><strong><span style="font-size: 18pt;">第二章 启用开发模式</span></strong></p>
<p><span style="font-size: 14pt;"><strong>微信公众平台开发模式</strong></span></p>
<p><strong>高级功能</strong></p>
<p>微信公众平台地址：<a href="https://mp.weixin.qq.com/">https://mp.weixin.qq.com</a>&nbsp;</p>
<p>登录微信公众平台后台，选择高级功能，进入后就看到两种模式</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/29200737-118800a1d034478b9eac16990b556026.jpg" alt=""></p>
<p>我们需要先关闭编辑模式。点击编辑模式的进入</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/27120521-acf845623eb249f38955ad9d98f5e4f1.jpg" alt=""></p>
<p>滑动关闭</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/27120547-578c3c33ecdc447ab586fa516d1ae7ab.jpg" alt=""></p>
<p>&nbsp;</p>
<p><strong>开发模式</strong></p>
<p>进入开发模式里面</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/27120608-f8668721e2974b5aa39d3fd882c20596.jpg" alt=""></p>
<p>&nbsp;点击成为开发者</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/30085710-8e2022604dcd4d14abce4e374969cc7b.jpg" alt=""></p>
<p>弹出URL和Token填写框</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/27121029-446096f070784eab8b48e7b8804bd716.jpg" alt=""></p>
<p>此处的URL为上篇中介绍的云应用的域名，而Token在index.php中定义为weixin。提交后提示你已成为开发者。</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/05114933-5a8ed391ffe2436ea060cf35577e5dfa.jpg" alt=""></p>
<p>再滑动右上角启用按钮。</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/27121742-33362399f5124fa5bd7e8c251d21725b.jpg" alt=""></p>
<p>恭喜，你成功启用开发模式。</p>
<p>&nbsp;</p>
<p><span><strong>自动回复</strong></span></p>
<p>在上面的例子中，实现了一个发送“?”就能回复当前时间的功能。<br>效果如下：</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/05115052-ffad462aed1d4b63a85d47e745094081.png" alt=""></p>
<p>至此，你的微信公众平台账号已经实现自动回复了。<span style="color: #ffffff;"><br></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p align="center"><span style="font-size: 18pt;"><strong>第三章 基础接口消息及事件</strong><strong><br></strong></span></p>
<p>&nbsp;</p>
<p><span style="font-size: 15px;">所有账号在申请之后，都将获得基础接口的权限，基础接口中将包括接收用户消息，向用户回复消息，接受事件推送等三种服务。</span></p>
<p><span style="font-size: 15px;"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/282044200176395.jpg" alt=""></span></p>
<p><span style="font-size: 14pt;"><strong>接收用户消息</strong></span></p>
<p><span style="font-size: 15px;">目前普通用户能向公众账号推送五种格式的消息：文本（包括表情）、语音、图片、视频、位置、链接。</span><br><span style="font-size: 15px;">下面就这五种分别详解如下：</span></p>
<p><strong>1. 文本（包括表情）</strong><br>发送文本及表情</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24212713-99cd9616dec941c89f5a1dfce7fe34d9.jpg" alt=""></p>
<p><strong>2. 图片</strong></p>
<p>发送图片</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24212902-120227ed8c2f481ea40f74f387167ccd.jpg" alt=""></p>
<p><strong style="line-height: 1.5;">3. 语音</strong></p>
<p>发送语音</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24212942-170dd66e27834ff3ac3d525cbbb60e7c.jpg" alt=""></p>
<p><strong style="line-height: 1.5;">4. 视频</strong></p>
<p>发送视频</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213106-09fa409d830b447681d148a65f350aa7.jpg" alt=""></p>
<p><strong style="line-height: 1.5;">5. 位置</strong></p>
<p>发送位置</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213159-d14477a57e0b4aee89adc84d9ed8a05f.jpg" alt=""></p>
<p><strong style="line-height: 1.5;">6. 链接</strong></p>
<p>发送链接</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213322-a711ae1e94a2446ea61d981af9304991.jpg" alt=""></p>
<p>&nbsp;</p>
<p><span style="font-size: 14pt;"><strong>向用户回复消息</strong></span></p>
<p>目前普通公众账号能向用户推送六种格式的消息：文本、图文、音乐、图片、语音、视频。其中图文消息包括单条图文消息和多条图文消息，展示方式有一点点不同。</p>
<p>下面就这几种分别详解如下：【图片、语音、视频由于需要用到和高级接口相关的media_id，在本教程中暂不讨论。】</p>
<p><strong>1. 文本消息格式</strong><br>回复文本</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/282127204085887.png" alt=""></p>
<p><strong style="line-height: 1.5;">2. 图文消息格式</strong></p>
<p>2.1 单条图文消息<br>回复单条图文</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/282127496733194.png" alt=""><br><span style="line-height: 1.5;">2.2 多图文消息</span></p>
<p>回复多图文</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/282128088927764.png" alt=""></p>
<p><strong style="line-height: 1.5;">3. 音乐消息</strong></p>
<p align="left">回复音乐消息</p>
<p align="left"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/282128221588018.png" alt=""></p>
<p>&nbsp;</p>
<p><span style="font-size: 14pt;"><strong>接收事件推送</strong></span></p>
<p>目前用户在关注和取消关注，以及点击菜单的时候会自动向公众平台发送事件推送消息：</p>
<p>1. 关注事件</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/282059534555333.jpg" alt=""><img style="line-height: 1.5;" src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/282058117982343.png" alt=""></p>
<p><span style="line-height: 1.5;">&nbsp;</span></p>
<p>&nbsp;</p>
<p align="center"><span style="font-size: 18pt;"><strong>第四章 微信公众平台PHP SDK</strong><strong><br></strong></span></p>
<p>&nbsp;</p>
<p>方倍工作室开发了微信公众平台的PHPSDK，集成了目前所有消息及事件的接收及发送，代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">/*</span><span style="color: #008000;">
    方倍工作室 
    http://www.cnblogs.com/txw1958/
    CopyRight 2014 All Rights Reserved
</span><span style="color: #008000;">*/</span>

<span style="color: #008080;">define</span>("TOKEN", "weixin"<span style="color: #000000;">);

</span><span style="color: #800080;">$wechatObj</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> wechatCallbackapiTest();
</span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$_GET</span>['echostr'<span style="color: #000000;">])) {
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">responseMsg();
}</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">valid();
}

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> wechatCallbackapiTest
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">验证消息</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> valid()
    {
        </span><span style="color: #800080;">$echoStr</span> = <span style="color: #800080;">$_GET</span>["echostr"<span style="color: #000000;">];
        </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$this</span>-&gt;<span style="color: #000000;">checkSignature()){
            </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$echoStr</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">检查签名</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> checkSignature()
    {
        </span><span style="color: #800080;">$signature</span> = <span style="color: #800080;">$_GET</span>["signature"<span style="color: #000000;">];
        </span><span style="color: #800080;">$timestamp</span> = <span style="color: #800080;">$_GET</span>["timestamp"<span style="color: #000000;">];
        </span><span style="color: #800080;">$nonce</span> = <span style="color: #800080;">$_GET</span>["nonce"<span style="color: #000000;">];
        </span><span style="color: #800080;">$token</span> =<span style="color: #000000;"> TOKEN;
        </span><span style="color: #800080;">$tmpArr</span> = <span style="color: #0000ff;">array</span>(<span style="color: #800080;">$token</span>, <span style="color: #800080;">$timestamp</span>, <span style="color: #800080;">$nonce</span><span style="color: #000000;">);
        </span><span style="color: #008080;">sort</span>(<span style="color: #800080;">$tmpArr</span>,<span style="color: #000000;"> SORT_STRING);
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">implode</span>(<span style="color: #800080;">$tmpArr</span><span style="color: #000000;">);
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">sha1</span>(<span style="color: #800080;">$tmpStr</span><span style="color: #000000;">);

        </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$tmpStr</span> == <span style="color: #800080;">$signature</span><span style="color: #000000;">){
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">响应消息</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> responseMsg()
    {
        </span><span style="color: #800080;">$postStr</span> = <span style="color: #800080;">$GLOBALS</span>["HTTP_RAW_POST_DATA"<span style="color: #000000;">];
        </span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">empty</span>(<span style="color: #800080;">$postStr</span><span style="color: #000000;">)){
            </span><span style="color: #800080;">$this</span>-&gt;logger("R ".<span style="color: #800080;">$postStr</span><span style="color: #000000;">);
            </span><span style="color: #800080;">$postObj</span> = <span style="color: #008080;">simplexml_load_string</span>(<span style="color: #800080;">$postStr</span>, 'SimpleXMLElement',<span style="color: #000000;"> LIBXML_NOCDATA);
            </span><span style="color: #800080;">$RX_TYPE</span> = <span style="color: #008080;">trim</span>(<span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">MsgType);

            </span><span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$RX_TYPE</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">case</span> "event":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveEvent(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span> "text":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveText(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span> "image":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveImage(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span> "location":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveLocation(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span> "voice":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveVoice(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span> "video":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveVideo(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span> "link":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveLink(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">default</span>:
                    <span style="color: #800080;">$result</span> = "unknown msg type: ".<span style="color: #800080;">$RX_TYPE</span><span style="color: #000000;">;
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
            </span><span style="color: #800080;">$this</span>-&gt;logger("T ".<span style="color: #800080;">$result</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
            </span><span style="color: #0000ff;">echo</span> ""<span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">接收事件消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveEvent(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$content</span> = ""<span style="color: #000000;">;
        </span><span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Event)
        {
            </span><span style="color: #0000ff;">case</span> "subscribe":
                <span style="color: #800080;">$content</span> = "欢迎关注方倍工作室 "<span style="color: #000000;">;
                </span><span style="color: #800080;">$content</span> .= (!<span style="color: #0000ff;">empty</span>(<span style="color: #800080;">$object</span>-&gt;EventKey))?("\n来自二维码场景 ".<span style="color: #008080;">str_replace</span>("qrscene_","",<span style="color: #800080;">$object</span>-&gt;EventKey)):""<span style="color: #000000;">;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">case</span> "unsubscribe":
                <span style="color: #800080;">$content</span> = "取消关注"<span style="color: #000000;">;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">case</span> "SCAN":
                <span style="color: #800080;">$content</span> = "扫描场景 ".<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">EventKey;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">case</span> "CLICK":
                <span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">EventKey)
                {
                    </span><span style="color: #0000ff;">case</span> "COMPANY":
                        <span style="color: #800080;">$content</span> = "方倍工作室提供互联网相关产品与服务。"<span style="color: #000000;">;
                        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                    </span><span style="color: #0000ff;">default</span>:
                        <span style="color: #800080;">$content</span> = "点击菜单：".<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">EventKey;
                        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                }
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">case</span> "LOCATION":
                <span style="color: #800080;">$content</span> = "上传位置：纬度 ".<span style="color: #800080;">$object</span>-&gt;Latitude.";经度 ".<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Longitude;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">case</span> "VIEW":
                <span style="color: #800080;">$content</span> = "跳转链接 ".<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">EventKey;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">default</span>:
                <span style="color: #800080;">$content</span> = "receive a new event: ".<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Event;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        }
        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">接收文本消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveText(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Content)
        {
            </span><span style="color: #0000ff;">case</span> "文本":
                <span style="color: #800080;">$content</span> = "这是个文本消息"<span style="color: #000000;">;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">case</span> "图文":
            <span style="color: #0000ff;">case</span> "单图文":
                <span style="color: #800080;">$content</span> = <span style="color: #0000ff;">array</span><span style="color: #000000;">();
                </span><span style="color: #800080;">$content</span>[] = <span style="color: #0000ff;">array</span>("Title"=&gt;"单图文标题",  "Description"=&gt;"单图文内容", "PicUrl"=&gt;"http://discuz.comli.com/weixin/weather/icon/cartoon.jpg", "Url" =&gt;"http://m.cnblogs.com/?u=txw1958"<span style="color: #000000;">);
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">case</span> "多图文":
                <span style="color: #800080;">$content</span> = <span style="color: #0000ff;">array</span><span style="color: #000000;">();
                </span><span style="color: #800080;">$content</span>[] = <span style="color: #0000ff;">array</span>("Title"=&gt;"多图文1标题", "Description"=&gt;"", "PicUrl"=&gt;"http://discuz.comli.com/weixin/weather/icon/cartoon.jpg", "Url" =&gt;"http://m.cnblogs.com/?u=txw1958"<span style="color: #000000;">);
                </span><span style="color: #800080;">$content</span>[] = <span style="color: #0000ff;">array</span>("Title"=&gt;"多图文2标题", "Description"=&gt;"", "PicUrl"=&gt;"http://d.hiphotos.bdimg.com/wisegame/pic/item/f3529822720e0cf3ac9f1ada0846f21fbe09aaa3.jpg", "Url" =&gt;"http://m.cnblogs.com/?u=txw1958"<span style="color: #000000;">);
                </span><span style="color: #800080;">$content</span>[] = <span style="color: #0000ff;">array</span>("Title"=&gt;"多图文3标题", "Description"=&gt;"", "PicUrl"=&gt;"http://g.hiphotos.bdimg.com/wisegame/pic/item/18cb0a46f21fbe090d338acc6a600c338644adfd.jpg", "Url" =&gt;"http://m.cnblogs.com/?u=txw1958"<span style="color: #000000;">);
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">case</span> "音乐":
                <span style="color: #800080;">$content</span> = <span style="color: #0000ff;">array</span>("Title"=&gt;"最炫民族风", "Description"=&gt;"歌手：凤凰传奇", "MusicUrl"=&gt;"http://121.199.4.61/music/zxmzf.mp3", "HQMusicUrl"=&gt;"http://121.199.4.61/music/zxmzf.mp3"<span style="color: #000000;">);
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">default</span>:
                <span style="color: #800080;">$content</span> = <span style="color: #008080;">date</span>("Y-m-d H:i:s",<span style="color: #008080;">time</span><span style="color: #000000;">());
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        }
        </span><span style="color: #0000ff;">if</span>(<span style="color: #008080;">is_array</span>(<span style="color: #800080;">$content</span><span style="color: #000000;">)){
            </span><span style="color: #0000ff;">if</span> (<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$content</span>[0]['PicUrl'<span style="color: #000000;">])){
                </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitNews(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
            }</span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$content</span>['MusicUrl'<span style="color: #000000;">])){
                </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitMusic(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
            }
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        }
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">接收图片消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveImage(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$content</span> = <span style="color: #0000ff;">array</span>("MediaId"=&gt;<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">MediaId);
        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitImage(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">接收位置消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveLocation(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$content</span> = "你发送的是位置，纬度为：".<span style="color: #800080;">$object</span>-&gt;Location_X."；经度为：".<span style="color: #800080;">$object</span>-&gt;Location_Y."；缩放级别为：".<span style="color: #800080;">$object</span>-&gt;Scale."；位置为：".<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Label;
        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">接收语音消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveVoice(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span> (<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$object</span>-&gt;Recognition) &amp;&amp; !<span style="color: #0000ff;">empty</span>(<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Recognition)){
            </span><span style="color: #800080;">$content</span> = "你刚才说的是：".<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Recognition;
            </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #800080;">$content</span> = <span style="color: #0000ff;">array</span>("MediaId"=&gt;<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">MediaId);
            </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitVoice(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        }

        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">接收视频消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveVideo(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$content</span> = <span style="color: #0000ff;">array</span>("MediaId"=&gt;<span style="color: #800080;">$object</span>-&gt;MediaId, "ThumbMediaId"=&gt;<span style="color: #800080;">$object</span>-&gt;ThumbMediaId, "Title"=&gt;"", "Description"=&gt;""<span style="color: #000000;">);
        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitVideo(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">接收链接消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveLink(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$content</span> = "你发送的是链接，标题为：".<span style="color: #800080;">$object</span>-&gt;Title."；内容为：".<span style="color: #800080;">$object</span>-&gt;Description."；链接地址为：".<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Url;
        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">回复文本消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;/MsgType&gt;
&lt;Content&gt;&lt;![CDATA[%s]]&gt;&lt;/Content&gt;
&lt;/xml&gt;</span>"<span style="color: #000000;">;
        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span>(), <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">回复图片消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitImage(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$imageArray</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$itemTpl</span> = "<span style="color: #000000;">&lt;Image&gt;
    &lt;MediaId&gt;&lt;![CDATA[%s]]&gt;&lt;/MediaId&gt;
&lt;/Image&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$item_str</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$itemTpl</span>, <span style="color: #800080;">$imageArray</span>['MediaId'<span style="color: #000000;">]);

        </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[image]]&gt;&lt;/MsgType&gt;
</span><span style="color: #800080;">$item_str</span><span style="color: #000000;">
&lt;/xml&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span><span style="color: #000000;">());
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">回复语音消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitVoice(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$voiceArray</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$itemTpl</span> = "<span style="color: #000000;">&lt;Voice&gt;
    &lt;MediaId&gt;&lt;![CDATA[%s]]&gt;&lt;/MediaId&gt;
&lt;/Voice&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$item_str</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$itemTpl</span>, <span style="color: #800080;">$voiceArray</span>['MediaId'<span style="color: #000000;">]);

        </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[voice]]&gt;&lt;/MsgType&gt;
</span><span style="color: #800080;">$item_str</span><span style="color: #000000;">
&lt;/xml&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span><span style="color: #000000;">());
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">回复视频消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitVideo(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$videoArray</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$itemTpl</span> = "<span style="color: #000000;">&lt;Video&gt;
    &lt;MediaId&gt;&lt;![CDATA[%s]]&gt;&lt;/MediaId&gt;
    &lt;ThumbMediaId&gt;&lt;![CDATA[%s]]&gt;&lt;/ThumbMediaId&gt;
    &lt;Title&gt;&lt;![CDATA[%s]]&gt;&lt;/Title&gt;
    &lt;Description&gt;&lt;![CDATA[%s]]&gt;&lt;/Description&gt;
&lt;/Video&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$item_str</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$itemTpl</span>, <span style="color: #800080;">$videoArray</span>['MediaId'], <span style="color: #800080;">$videoArray</span>['ThumbMediaId'], <span style="color: #800080;">$videoArray</span>['Title'], <span style="color: #800080;">$videoArray</span>['Description'<span style="color: #000000;">]);

        </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[video]]&gt;&lt;/MsgType&gt;
</span><span style="color: #800080;">$item_str</span><span style="color: #000000;">
&lt;/xml&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span><span style="color: #000000;">());
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">回复图文消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitNews(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$newsArray</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(!<span style="color: #008080;">is_array</span>(<span style="color: #800080;">$newsArray</span><span style="color: #000000;">)){
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
        }
        </span><span style="color: #800080;">$itemTpl</span> = "<span style="color: #000000;">    &lt;item&gt;
        &lt;Title&gt;&lt;![CDATA[%s]]&gt;&lt;/Title&gt;
        &lt;Description&gt;&lt;![CDATA[%s]]&gt;&lt;/Description&gt;
        &lt;PicUrl&gt;&lt;![CDATA[%s]]&gt;&lt;/PicUrl&gt;
        &lt;Url&gt;&lt;![CDATA[%s]]&gt;&lt;/Url&gt;
    &lt;/item&gt;
</span>"<span style="color: #000000;">;
        </span><span style="color: #800080;">$item_str</span> = ""<span style="color: #000000;">;
        </span><span style="color: #0000ff;">foreach</span> (<span style="color: #800080;">$newsArray</span> <span style="color: #0000ff;">as</span> <span style="color: #800080;">$item</span><span style="color: #000000;">){
            </span><span style="color: #800080;">$item_str</span> .= <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$itemTpl</span>, <span style="color: #800080;">$item</span>['Title'], <span style="color: #800080;">$item</span>['Description'], <span style="color: #800080;">$item</span>['PicUrl'], <span style="color: #800080;">$item</span>['Url'<span style="color: #000000;">]);
        }
        </span><span style="color: #800080;">$newsTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[news]]&gt;&lt;/MsgType&gt;
&lt;Content&gt;&lt;![CDATA[]]&gt;&lt;/Content&gt;
&lt;ArticleCount&gt;%s&lt;/ArticleCount&gt;
&lt;Articles&gt;
</span><span style="color: #800080;">$item_str</span><span style="color: #000000;">&lt;/Articles&gt;
&lt;/xml&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$newsTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span>(), <span style="color: #008080;">count</span>(<span style="color: #800080;">$newsArray</span><span style="color: #000000;">));
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">回复音乐消息</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitMusic(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$musicArray</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$itemTpl</span> = "<span style="color: #000000;">&lt;Music&gt;
    &lt;Title&gt;&lt;![CDATA[%s]]&gt;&lt;/Title&gt;
    &lt;Description&gt;&lt;![CDATA[%s]]&gt;&lt;/Description&gt;
    &lt;MusicUrl&gt;&lt;![CDATA[%s]]&gt;&lt;/MusicUrl&gt;
    &lt;HQMusicUrl&gt;&lt;![CDATA[%s]]&gt;&lt;/HQMusicUrl&gt;
&lt;/Music&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$item_str</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$itemTpl</span>, <span style="color: #800080;">$musicArray</span>['Title'], <span style="color: #800080;">$musicArray</span>['Description'], <span style="color: #800080;">$musicArray</span>['MusicUrl'], <span style="color: #800080;">$musicArray</span>['HQMusicUrl'<span style="color: #000000;">]);

        </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[music]]&gt;&lt;/MsgType&gt;
</span><span style="color: #800080;">$item_str</span><span style="color: #000000;">
&lt;/xml&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span><span style="color: #000000;">());
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">日志记录</span>
    <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> logger(<span style="color: #800080;">$log_content</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$_SERVER</span>['HTTP_APPNAME'])){   <span style="color: #008000;">//</span><span style="color: #008000;">SAE</span>
            sae_set_display_errors(<span style="color: #0000ff;">false</span><span style="color: #000000;">);
            sae_debug(</span><span style="color: #800080;">$log_content</span><span style="color: #000000;">);
            sae_set_display_errors(</span><span style="color: #0000ff;">true</span><span style="color: #000000;">);
        }</span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(<span style="color: #800080;">$_SERVER</span>['REMOTE_ADDR'] != "127.0.0.1"){ <span style="color: #008000;">//</span><span style="color: #008000;">LOCAL</span>
            <span style="color: #800080;">$max_size</span> = 10000<span style="color: #000000;">;
            </span><span style="color: #800080;">$log_filename</span> = "log.xml"<span style="color: #000000;">;
            </span><span style="color: #0000ff;">if</span>(<span style="color: #008080;">file_exists</span>(<span style="color: #800080;">$log_filename</span>) and (<span style="color: #008080;">abs</span>(<span style="color: #008080;">filesize</span>(<span style="color: #800080;">$log_filename</span>)) &gt; <span style="color: #800080;">$max_size</span>)){<span style="color: #008080;">unlink</span>(<span style="color: #800080;">$log_filename</span><span style="color: #000000;">);}
            </span><span style="color: #008080;">file_put_contents</span>(<span style="color: #800080;">$log_filename</span>, <span style="color: #008080;">date</span>('H:i:s')." ".<span style="color: #800080;">$log_content</span>."\r\n",<span style="color: #000000;"> FILE_APPEND);
        }
    }
}
</span>?&gt;</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>使用第一章同样方法，将上述代码另存为index.php，压缩成index.zip，或者<span style="color: #0000ff;"><strong><a href="http://files.cnblogs.com/txw1958/index_phpsdk.zip" target="_blank"><span style="color: #0000ff;">直接点击下载</span></a></strong></span>，上传到SAE，你的公众账号就能接收及回复所有消息类型及事件通知了。</p>
<p>在公众账号中回复以下文字，你将得到和上一章一样的回复内容。</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">文本
图文
多图文
音乐
时间</span></pre>
</div>
<p>还可以尝试以下操作，体验一下其他消息</p>
<pre><span>发送一张图片给公众账号
发送一段语音给公众账号
发送一段视频给公众账号
发送位置信息给公众账号
发送收藏中的链接给公众账号<br><br><br><br></span></pre>
<p align="center"><span style="font-size: 18pt;"><strong>第五章 微信公众平台开发模式原理分析</strong></span></p>
<p>&nbsp;</p>
<p>在体验了上一节的各种功能之后，我们只是知其然，这一节里面，将介绍在上面的基础上介绍微信公众平台收发消息机制及原理，这是知其所以然。</p>
<p><span style="font-size: 14pt;"><strong>开发模式成为开发者时的消息校验原理</strong></span></p>
<p>在开发者首次提交验证申请时，微信服务器将发送GET请求到填写的URL上，并且带上四个参数（signature、timestamp、nonce、echostr），开发者通过对签名（即signature）的效验，来判断此条消息的真实性。</p>
<p>此后，每次开发者接收用户消息的时候，微信也都会带上前面三个参数（signature、timestamp、nonce）访问开发者设置的URL，开发者依然通过对签名的效验判断此条消息的真实性。效验方式与首次提交验证申请一致。</p>
<table style="width: 640px;" border="1" cellspacing="0" cellpadding="4" align="center">
<tbody>
<tr><th>参数</th><th>描述</th></tr>
<tr>
<td>signature</td>
<td>微信加密签名，signature结合了开发者填写的token参数和请求中的timestamp参数、nonce参数。</td>
</tr>
<tr>
<td>timestamp</td>
<td>时间戳</td>
</tr>
<tr>
<td>nonce</td>
<td>随机数</td>
</tr>
<tr>
<td>echostr</td>
<td>随机字符串</td>
</tr>
</tbody>
</table>
<p>开发者通过检验signature对请求进行校验（下面有校验方式）。若确认此次GET请求来自微信服务器，请原样返回echostr参数内容，则接入生效，成为开发者成功，否则接入失败。</p>
<pre><strong>加密/校验流程如下：</strong>
1. 将token、timestamp、nonce三个参数进行字典序排序
2. 将三个参数字符串拼接成一个字符串进行sha1加密
3. 开发者获得加密后的字符串可与signature对比，标识该请求来源于微信</pre>
<p>启用接口是由代码中的checkSignature()函数来实现校验的。如果对这一原理难以理解，可以暂时不用深究，继续看下面。</p>
<p>&nbsp;</p>
<p><span style="font-size: 14pt;"><strong>成为开发者后消息收发时的原理</strong></span></p>
<p>再来看下这个图，当用户发送一个“?”时，系统回复了一个时间</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/05115052-ffad462aed1d4b63a85d47e745094081.png" alt=""></p>
<p>这一原理的消息流程图如下所示。</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/290134020804581.jpg" alt="" width="924" height="367"></p>
<p>从上图可以看出，用户在发送一个?后，微信服务器将组装一个消息发送给我们自己的服务器，自己的服务器然后回复一个时间，并且将该时间也按一定的规则组装，回复给公众账号，公众账号再回复给用户，在这个收发过程中，发送方和接收方进行了调换(ToUserName和FromUserName值互换)，收发都是以xml格式在后台进行传输的，</p>
<p>所以<strong><span style="color: #ff0000;">掌握各种消息类型的收发就是进行微信公众平台开发的基础</span></strong>！</p>
<p>下面对前面所述的各种消息类型讲解其XML数据包的格式。</p>
<p>&nbsp;</p>
<p><span style="font-size: 14pt;"><strong>各种收发消息的XML数据包分析</strong></span></p>
<p><span style="font-size: 18px;"><strong>接收消息</strong></span></p>
<p><strong>1. 文本（包括表情）</strong><br>发送文本及表情</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24212713-99cd9616dec941c89f5a1dfce7fe34d9.jpg" alt=""></p>
<p>文字后台格式:</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359028446<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">text</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">测试文字</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5836982729904121631<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>表情后台格式</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359044526<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">text</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">/::)/::~/::B/::|/:8-)</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5837051792978241864<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code">
<pre><span>ToUserName 消息接收方微信号，一般为公众平台账号微信号
FromUserName 消息发送方微信号
CreateTime 消息创建时间
MsgType 消息类型；文本消息为text
Content 消息内容
MsgId 消息ID号</span></pre>
</div>
<p>可以看出，文本和表情的消息类型均为文本</p>
<p><strong>2. 图片</strong><br>发送图片</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24212902-120227ed8c2f481ea40f74f387167ccd.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359028479<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">image</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://mmbiz.qpic.cn/mmbiz/L4qjYtOibummHn90t1mnaibYiaR8ljyicF3MW7XX3BLp1qZgUb7CtZ0DxqYFI4uAQH1FWs3hUicpibjF0pOqLEQyDMlg/0</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5836982871638042400<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">PGKsO3LAgbVTsFYO7FGu51KUYa07D0C_Nozz2fn1z6VYtHOsF59PTFl0vagGxkVH</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code">
<pre><span>ToUserName 消息接收方微信号，一般为公众平台账号微信号
FromUserName 消息发送方微信号
CreateTime 消息创建时间
MsgType 消息类型；图片消息为image
PicUrl 图片链接地址，可以用HTTP GET获取
MsgId 消息ID号</span></pre>
</div>
<p><strong>3. 语音</strong><br>发送语音</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24212942-170dd66e27834ff3ac3d525cbbb60e7c.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359028479<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">image</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://mmbiz.qpic.cn/mmbiz/L4qjYtOibummHn90t1mnaibYiaR8ljyicF3MW7XX3BLp1qZgUb7CtZ0DxqYFI4uAQH1FWs3hUicpibjF0pOqLEQyDMlg/0</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5836982871638042400<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">PGKsO3LAgbVTsFYO7FGu51KUYa07D0C_Nozz2fn1z6VYtHOsF59PTFl0vagGxkVH</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span>ToUserName 消息接收方微信号，一般为公众平台账号微信号
FromUserName 消息发送方微信号
CreateTime 消息创建时间
MsgType 消息类型；语音消息为voice
MediaId 媒体ID
Format 语音格式，这里为amr
MsgId 消息ID号</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<div class="cnblogs_code">
<pre><span>附：AMR接口简介
全称Adaptive Multi-Rate，主要用于移动设备的音频，压缩比比较大，但相对其他的压缩格式质量比较差，由于多用于人声，通话，效果还是很不错的。</span></pre>
</div>
<p><strong>4. 视频</strong></p>
<p>发送视频</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213106-09fa409d830b447681d148a65f350aa7.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>xml&gt;<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359028186<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">video</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">DBVFRIj29LB2hxuYpc0R6VLyxwgyCHZPbRj_IIs6YaGhutyXUKtFSDcSCPeoqUYr</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ThumbMediaId</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">mxUJ5gcCeesJwx2T9qsk62YzIclCP_HnRdfTQcojlPeT2G9Q3d22UkSLyBFLZ01J</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ThumbMediaId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5836981613212624665<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span>ToUserName 消息接收方微信号，一般为公众平台账号微信号
FromUserName 消息发送方微信号
CreateTime 消息创建时间
MsgType 消息类型；视频消息为video
MediaId 媒体ID
ThumbMediaId 媒体缩略ID？
MsgId 消息ID号</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><strong>5. 位置</strong></p>
<p>发送位置</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213159-d14477a57e0b4aee89adc84d9ed8a05f.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FLACFromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359036619<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">location</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Location_X</span><span style="color: #0000ff;">&gt;</span>22.539968<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Location_X</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Location_Y</span><span style="color: #0000ff;">&gt;</span>113.954980<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Location_Y</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Scale</span><span style="color: #0000ff;">&gt;</span>16<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Scale</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Label</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">中国广东省深圳市南山区华侨城深南大道9789号 邮政编码: 518057</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Label</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5837017832671832047<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span> ToUserName 消息接收方微信号，一般为公众平台账号微信号
 FromUserName 消息发送方微信号
 CreateTime 消息创建时间
 MsgType 消息类型，地理位置为location
 Location_X 地理位置纬度
 Location_Y 地理位置经度
 Scale 地图缩放大小
 Label 地理位置信息
 MsgId 消息ID号</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><strong>6. 链接</strong></p>
<p>发送链接</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213322-a711ae1e94a2446ea61d981af9304991.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjl2LYdfTAM-oxDgB4XZcnc8</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359709372<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">link</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">微信公众平台开发者的江湖</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">陈坤的微信公众号这段时间大火，大家..</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://israel.duapp.com/web/photo.php</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5839907284805129867<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span> </pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span> ToUserName 消息接收方微信号，一般为公众平台账号微信号
 FromUserName 消息发送方微信号
 CreateTime 消息创建时间
 MsgType 消息类型，链接为link
 Title 图文消息标题
 Description 图文消息描述
 Url 点击图文消息跳转链接
 MsgId 消息ID号</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>&nbsp;</p>
<p><span style="font-size: 18px;"><strong>发送消息</strong></span></p>
<p>只介绍三种格式的消息：文本、图文、音乐。其中图文消息包括单条图文消息和多条图文消息，展示方式有一点点不同。</p>
<p><strong>1. 文本消息格式</strong><br>回复文本</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213436-1243e86e19e4460d9702096a2b43e444.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359036631<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">text</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">【深圳】天气实况 温度：27℃ 湿度：59% 风速：东北风3级
11月03日 周日 27℃~23℃ 小雨 东北风4-5级
11月04日 周一 26℃~21℃ 阵雨 微风
11月05日 周二 27℃~22℃ 阴 微风</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>0<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code">
<pre><span> FromUserName 消息发送方
 ToUserName 消息接收方
 CreateTime 消息创建时间
 MsgType 消息类型，文本消息必须填写text
 Content 消息内容，大小限制在2048字节，字段为空为不合法请求
 FuncFlag 星标字段</span></pre>
</div>
<p>&nbsp;<br><strong>2. 图文消息格式</strong><br>2.1 单条图文消息<br>回复单条图文</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213526-b06250e1b4124e5db281e5d53223d899.jpg" alt=""><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213538-a63349c3a9f647f5a9df47429710c4ce.jpg" alt=""><br>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359011899<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">news</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ArticleCount</span><span style="color: #0000ff;">&gt;</span>1<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ArticleCount</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Articles</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">[苹果产品信息查询</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">序列号：USE IMEI NUMBER
IMEI号：358031058974471
设备名称：iPhone 5C
设备颜色：
设备容量：
激活状态：已激活
电话支持：未过期[2014-01-13]
硬件保修：未过期[2014-10-14]
生产工厂：中国</span><span style="color: #0000ff;">]]&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/banner.jpg</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Articles</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>0<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>2.2 多图文消息</p>
<p>回复多图文</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213651-ebb31b7df0fe4d1aadb44c699ed5c421.jpg" alt=""><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24213704-27ef22f35cf64155b739902ccc08b4a0.jpg" alt=""></p>
<p>后台数据格式</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359011829<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">news</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ArticleCount</span><span style="color: #0000ff;">&gt;</span>5<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ArticleCount</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Articles</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">【深圳】天气实况 温度：3℃ 湿度：43﹪ 风速：西南风2级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/banner.jpg</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">06月24日 周四 2℃~-7℃ 晴 北风3-4级转东南风小于3级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/d00.gif</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">06月25日 周五 -1℃~-8℃ 晴 东南风小于3级转东北风3-4级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/d00.gif</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">06月26日 周六 -1℃~-7℃ 多云 东北风3-4级转东南风小于3级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/d01.gif</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">06月27日 周日 0℃~-6℃ 多云 东南风小于3级转东北风3-4级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/d01.gif</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Articles</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>0<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span>FromUserName 消息发送方
 ToUserName 消息接收方
 CreateTime 消息创建时间
 MsgType 消息类型，图文消息必须填写news
 Content 消息内容，图文消息可填空
 ArticleCount 图文消息个数，限制为10条以内
 Articles 多条图文消息信息，默认第一个item为大图
  Title 图文消息标题
  Description 图文消息描述
  PicUrl 图片链接，支持JPG、PNG格式，较好的效果为大图640*320，小图80*80
  Url 点击图文消息跳转链接
FuncFlag 星标字段</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>&nbsp;<strong>3. 音乐消息</strong></p>
<p align="left">回复音乐消息</p>
<p align="left"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/24214131-80e7000fac2a4cb08bf89b3a5519cebc.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">ollB4jqgdO_cRnVXk_wRnSywgtQ8</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_b629c48b653e</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1372310544<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">music</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Music</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">最炫民族风</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">凤凰传奇</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MusicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://zj189.cn/zj/download/music/zxmzf.mp3</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MusicUrl</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">HQMusicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://zj189.cn/zj/download/music/zxmzf.mp3</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">HQMusicUrl</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Music</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>0<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span>ToUserName     接收方帐号（收到的OpenID）
FromUserName     开发者微信号
CreateTime     消息创建时间
MsgType          消息类型，此处为music
    Title       音乐标题
    Description 音乐描述
    MusicUrl     音乐链接
    HQMusicUrl     高质量音乐链接，WIFI环境优先使用该链接播放音乐
FuncFlag     位0x0001被标志时，星标刚收到的消息。</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span>&nbsp;</span></p>
<p><span style="font-size: 18px;"><strong>事件消息类型</strong></span></p>
<p>目前用户在关注和取消关注，以及点击菜单的时候会自动向公众平台发送事件推送消息：</p>
<p>1. 关注事件</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_b629c48b653e</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">ollB4jv7LA3tydjviJp5V9qTU_kA</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1372307736<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">event</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">subscribe</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>2. 取消关注事件</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_b629c48b653e</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">ollB4jqgdO_cRnVXk_wRnSywgtQ8</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1372309890<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">event</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">unsubscribe</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>3. 菜单点击事件</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1377886191<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">event</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">CLICK</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">天气深圳</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code">
<pre><span>ToUserName     接收方微信号
FromUserName 发送方微信号，若为普通用户，则是一个OpenID
CreateTime     消息创建时间
MsgType     消息类型，event
Event     事件类型，subscribe(订阅)、unsubscribe(取消订阅)、CLICK(自定义菜单点击事件)
EventKey 事件KEY值，与自定义菜单接口中KEY值对应</span></pre>
</div>
<p><span>&nbsp;</span></p>
<p>&nbsp;</p>
<p style="text-align: center;"><span style="font-size: 18pt;"><strong>第六章 开发天气预报功能</strong></span></p>
<p>&nbsp;</p>
<p><span>这一章里，我们来快速开发天气预报功能、我们使用方倍工作室的相应接口来实现。下面代码实现了这样该功能</span><span>。</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">/*</span><span style="color: #008000;">
    方倍工作室
    CopyRight 2014 All Rights Reserved
</span><span style="color: #008000;">*/</span>

<span style="color: #008080;">define</span>("TOKEN", "weixin"<span style="color: #000000;">);

</span><span style="color: #800080;">$wechatObj</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> wechatCallbackapiTest();
</span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$_GET</span>['echostr'<span style="color: #000000;">])) {
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">responseMsg();
}</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">valid();
}

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> wechatCallbackapiTest
{
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> valid()
    {
        </span><span style="color: #800080;">$echoStr</span> = <span style="color: #800080;">$_GET</span>["echostr"<span style="color: #000000;">];
        </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$this</span>-&gt;<span style="color: #000000;">checkSignature()){
            </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$echoStr</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> checkSignature()
    {
        </span><span style="color: #800080;">$signature</span> = <span style="color: #800080;">$_GET</span>["signature"<span style="color: #000000;">];
        </span><span style="color: #800080;">$timestamp</span> = <span style="color: #800080;">$_GET</span>["timestamp"<span style="color: #000000;">];
        </span><span style="color: #800080;">$nonce</span> = <span style="color: #800080;">$_GET</span>["nonce"<span style="color: #000000;">];
        </span><span style="color: #800080;">$token</span> =<span style="color: #000000;"> TOKEN;
        </span><span style="color: #800080;">$tmpArr</span> = <span style="color: #0000ff;">array</span>(<span style="color: #800080;">$token</span>, <span style="color: #800080;">$timestamp</span>, <span style="color: #800080;">$nonce</span><span style="color: #000000;">);
        </span><span style="color: #008080;">sort</span>(<span style="color: #800080;">$tmpArr</span>,<span style="color: #000000;"> SORT_STRING);
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">implode</span>(<span style="color: #800080;">$tmpArr</span><span style="color: #000000;">);
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">sha1</span>(<span style="color: #800080;">$tmpStr</span><span style="color: #000000;">);

        </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$tmpStr</span> == <span style="color: #800080;">$signature</span><span style="color: #000000;">){
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> responseMsg()
    {
        </span><span style="color: #800080;">$postStr</span> = <span style="color: #800080;">$GLOBALS</span>["HTTP_RAW_POST_DATA"<span style="color: #000000;">];
        </span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">empty</span>(<span style="color: #800080;">$postStr</span><span style="color: #000000;">)){
            </span><span style="color: #800080;">$this</span>-&gt;logger("R ".<span style="color: #800080;">$postStr</span><span style="color: #000000;">);
            </span><span style="color: #800080;">$postObj</span> = <span style="color: #008080;">simplexml_load_string</span>(<span style="color: #800080;">$postStr</span>, 'SimpleXMLElement',<span style="color: #000000;"> LIBXML_NOCDATA);
            </span><span style="color: #800080;">$RX_TYPE</span> = <span style="color: #008080;">trim</span>(<span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">MsgType);

            </span><span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$RX_TYPE</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">case</span> "event":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveEvent(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span> "text":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveText(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
            </span><span style="color: #800080;">$this</span>-&gt;logger("T ".<span style="color: #800080;">$result</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
            </span><span style="color: #0000ff;">echo</span> ""<span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveEvent(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$content</span> = ""<span style="color: #000000;">;
        </span><span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Event)
        {
            </span><span style="color: #0000ff;">case</span> "subscribe":
                <span style="color: #800080;">$content</span> = "欢迎关注方倍工作室 "<span style="color: #000000;">;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        }
        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveText(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$keyword</span> = <span style="color: #008080;">trim</span>(<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Content);</span><span style="color: #800080;">$url</span> = "http://apix.sinaapp.com/weather/?appkey=".<span style="color: #800080;">$object</span>-&gt;ToUserName."&amp;city=".<span style="color: #008080;">urlencode</span>(<span style="color: #800080;">$keyword</span><span style="color: #000000;">); 
        </span><span style="color: #800080;">$output</span> = <span style="color: #008080;">file_get_contents</span>(<span style="color: #800080;">$url</span><span style="color: #000000;">);
        </span><span style="color: #800080;">$content</span> = json_decode(<span style="color: #800080;">$output</span>, <span style="color: #0000ff;">true</span><span style="color: #000000;">);

        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitNews(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;/MsgType&gt;
&lt;Content&gt;&lt;![CDATA[%s]]&gt;&lt;/Content&gt;
&lt;/xml&gt;</span>"<span style="color: #000000;">;
        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span>(), <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitNews(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$newsArray</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(!<span style="color: #008080;">is_array</span>(<span style="color: #800080;">$newsArray</span><span style="color: #000000;">)){
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
        }
        </span><span style="color: #800080;">$itemTpl</span> = "<span style="color: #000000;">    &lt;item&gt;
        &lt;Title&gt;&lt;![CDATA[%s]]&gt;&lt;/Title&gt;
        &lt;Description&gt;&lt;![CDATA[%s]]&gt;&lt;/Description&gt;
        &lt;PicUrl&gt;&lt;![CDATA[%s]]&gt;&lt;/PicUrl&gt;
        &lt;Url&gt;&lt;![CDATA[%s]]&gt;&lt;/Url&gt;
    &lt;/item&gt;
</span>"<span style="color: #000000;">;
        </span><span style="color: #800080;">$item_str</span> = ""<span style="color: #000000;">;
        </span><span style="color: #0000ff;">foreach</span> (<span style="color: #800080;">$newsArray</span> <span style="color: #0000ff;">as</span> <span style="color: #800080;">$item</span><span style="color: #000000;">){
            </span><span style="color: #800080;">$item_str</span> .= <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$itemTpl</span>, <span style="color: #800080;">$item</span>['Title'], <span style="color: #800080;">$item</span>['Description'], <span style="color: #800080;">$item</span>['PicUrl'], <span style="color: #800080;">$item</span>['Url'<span style="color: #000000;">]);
        }
        </span><span style="color: #800080;">$newsTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[news]]&gt;&lt;/MsgType&gt;
&lt;Content&gt;&lt;![CDATA[]]&gt;&lt;/Content&gt;
&lt;ArticleCount&gt;%s&lt;/ArticleCount&gt;
&lt;Articles&gt;
</span><span style="color: #800080;">$item_str</span><span style="color: #000000;">&lt;/Articles&gt;
&lt;/xml&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$newsTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span>(), <span style="color: #008080;">count</span>(<span style="color: #800080;">$newsArray</span><span style="color: #000000;">));
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> logger(<span style="color: #800080;">$log_content</span><span style="color: #000000;">)
    {
      
    }
}
</span>?&gt;</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span>在公众账号中使用的命令如下：</span></p>
<ol>
<li>发送城市名称，如“深圳”，可以查询该城市的天气</li>
</ol>
<p>在你的公众账号输入相应的命令，实现效果类似如下所示：</p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/261418519677515.png" alt=""></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style="text-align: center;"><span style="font-size: 18pt;"><strong>第七章 小结</strong></span></p>
<p>&nbsp;</p>
<p>总的来说，通过本教程，你得到了以下收获：</p>
<ul>
<li>1. 你通过本教程得到了一个免费的云计算空间</li>
<li>2. 你成功启用了开发模式，并且实现了时间的自动回复</li>
<li>3. 你非常快速地就体验了各种消息接收及发送，比方倍当年自己摸索所用的时间短了很多</li>
<li>4. 你了解了微信公众平台开发的原理，并且熟悉了各种消息及发送是怎么一回事</li>
<li>5. 你使用方倍工作室的接口，成功的开发了你的第一个微信公众平台功能——天气预报。</li>
</ul>
<p><span style="line-height: 1.5;">接下来该做什么呢？你可以学习开发一些基础的常用功能，</span><span style="line-height: 1.5;">推荐：方倍工作室 编写，机械工业出版社 出版的《</span><span style="color: #ff0000;">微信公众平台开发最佳实践</span><span style="line-height: 1.5;">》，里面包含很多php开发技巧、数据库使用、及近30项微信公众平台实用功能或技术 。</span></p>
<p><span style="line-height: 1.5;"><strong><span style="color: #0000ff;">点击图标购买</span><span style="color: #0000ff;">：</span></strong></span></p>
<p><span style="line-height: 1.5;"><span><a href="http://israel.sinaapp.com/trace/introduction.php?entity=dangdang" target="_blank"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/302113235486194.jpg" alt="">&nbsp;</a></span><span><a href="http://israel.sinaapp.com/trace/introduction.php?entity=jd" target="_blank"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/302113112983585.jpg" alt=""></a>&nbsp;<a href="http://israel.sinaapp.com/trace/practice.php?entity=tmall" target="_blank"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/302113169236803.jpg" alt=""></a>&nbsp;<a href="http://israel.sinaapp.com/trace/practice.php?entity=amazon" target="_blank"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/302113047052438.jpg" alt=""></a></span></span></p>
<p><span style="line-height: 1.5;">学习完这一层次之后，你可以开始自己胜任一个中小型的微信公众平台账号功能的开发了，比如通过为一个账号开发出自定义菜单，为种菜单添加相应的响应消息。</span></p>
<p>&nbsp;</p>
<h2>开发指导[收费服务]</h2>
<p><span>另外我们提供微信公众平台开发实战指导，内容包括：1. 微信公众平台基础疑难解答；2. 赠送微信公众平台开发实战教程电子版，高级接口教程电子版，赠送《微信公众平台开发最佳实践》；3.微信公众平台开发技术咨询；4. 所有问题在24小时内得到回复；5.紧急技术问题的电话指导；6. 提供天气、快递、点歌、翻译、人脸识别、四六级、星座、解梦、笑话、苹果产品查询等功能源码；7. 专属QQ群指导。欢迎加入。</span></p>
<p><span>服务购买地址&nbsp;<span><a href="http://item.taobao.com/item.htm?id=37979420283" target="_blank"><span>http://item.taobao.com/item.htm?id=37979420283</span></a></span></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>关注我们</strong></p>
<p><span style="color: #0000ff;"><span style="color: #993366;">更多功能、代码、教程、行业秘闻，将在微信公众账号中发布，欢迎关注，二维码见下 &nbsp;</span><span style="color: #ffffff;">个人微信账号</span></span></p>
<p><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/23093748-3ad9e92a24c24b5eaf0e46f2b7c51361.jpg" alt="" width="303" height="303">&nbsp; &nbsp;<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/081150368382331.jpg" alt="" width="26" height="26"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #ffffff;">&nbsp;原文：http://www.cnblogs.com/txw1958/p/wechat-tutorial.html<strong>&nbsp;</strong></span></p></div><div id="MySignature"><p>====================================================================</p>
<a style="color: #0000C6;" href="http://www.cnblogs.com/txw1958/p/tutorials-of-wechat-public-platform.html" target="_blank">★学习微信公众平台开发教程 点击进入</a>
<br>
<a style="color: #007500;" href="http://israel.sinaapp.com/trace/signature.php?entity=practice" target="_blank">★了解《微信公众平台开发最佳实践》点击进入</a>
<br>
<a style="color: #BB3D00;" href="http://israel.sinaapp.com/trace/signature.php?entity=taobao" target="_blank">★购买微信公众平台开发指导服务 点击进入</a>

<br>
<a style="color: #D9006C;">★微信平台付费定制开发 联系QQ 1354386063 </a>
<br>
<a style="color: #4B0091;">★微信公众平台开发最佳实践读者服务群  188280503</a>
<br>
<a style="color: #000000;">★微信公众平台开发交流群 152390673</a>





<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="pondbaystudio" data-title="微信公众平台开发" data-url="http://www.cnblogs.com/txw1958/" id="ds-thread"><div id="ds-reset"><div class="ds-meta" style="display: none;"><a href="javascript:void(0)" class="ds-like-thread-button ds-rounded"><span class="ds-icon ds-icon-heart"></span> <span class="ds-thread-like-text">喜欢</span><span class="ds-thread-cancel-like">取消喜欢</span></a><span class="ds-like-panel"><span class="ds-highlight">10</span> 人喜欢</span></div><div class="ds-comments-info"><div class="ds-sort"><a class="ds-order-desc ds-current">最新</a><a class="ds-order-asc">最早</a><a class="ds-order-hot">最热</a></div><ul class="ds-comments-tabs"><li class="ds-tab"><a class="ds-comments-tab-duoshuo ds-current" href="javascript:void(0);"><span class="ds-highlight">408</span>条评论</a></li><li class="ds-tab"><a class="ds-comments-tab-weibo" href="javascript:void(0);"><span class="ds-highlight">25</span>条新浪微博</a></li><li class="ds-tab"><a class="ds-comments-tab-qqt" href="javascript:void(0);"><span class="ds-highlight">18</span>条腾讯微博</a></li></ul></div><ul class="ds-comments"><li class="ds-post" data-post-id="1303589781984248330"><div class="ds-post-self" data-post-id="1303589781984248330" data-thread-id="1303589781984247810" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7557402"><a rel="nofollow author" target="_blank" href="http://weibo.com/aaaaasam" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7557402&#39;;" title="SamSam与sam__"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/0" alt="SamSam与sam__"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/aaaaasam" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7557402&#39;;" rel="nofollow" target="_blank" data-user-id="7557402">SamSam与sam__</a></div><p>$content .= (!empty($object-&gt;EventKey))?("\n来自二维码场景 ".str_replace("qrscene_","",$object-&gt;EventKey)):"";<br>
你好,老师!我想问一下上面那个代码是什么意思?</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-21T18:50:09+08:00" title="2014年6月21日 下午6:50:09">4小时前</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248328"><div class="ds-post-self" data-post-id="1303589781984248328" data-thread-id="1303589781984247810" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7556058"><a rel="nofollow author" target="_blank" href="http://weibo.com/1746095051" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7556058&#39;;" title="周深深V"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/1" alt="周深深V"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/1746095051" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7556058&#39;;" rel="nofollow" target="_blank" data-user-id="7556058">周深深V</a></div><p>老师，您好！我想下为什么我的公众好哪里没有高级功能这个模块了？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-21T17:07:02+08:00" title="2014年6月21日 下午5:07:02">6小时前</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248327"><div class="ds-post-self" data-post-id="1303589781984248327" data-thread-id="1303589781984247810" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7525636"><a rel="nofollow author" target="_blank" href="http://t.qq.com/li592278661" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7525636&#39;;" title="李望"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/87323.jpg" alt="李望"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/li592278661" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7525636&#39;;" rel="nofollow" target="_blank" data-user-id="7525636">李望</a></div><p>老师请问怎么保存Access Token呢Access Token值两个小时失效哦</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-21T10:16:34+08:00" title="2014年6月21日 上午10:16:34">13小时前</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248326"><div class="ds-post-self" data-post-id="1303589781984248326" data-thread-id="1303589781984247810" data-root-id="1303589781984248308" data-source="duoshuo"><div class="ds-avatar" data-user-id="7261643"><a rel="nofollow author" target="_blank" href="http://t.qq.com/mt644527030" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7261643&#39;;" title="马腾"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/50" alt="马腾"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/mt644527030" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7261643&#39;;" rel="nofollow" target="_blank" data-user-id="7261643">马腾</a></div><ol id="ds-ctx"><li class="ds-ctx-entry" data-post-id="1303589781984248308"><div class="ds-avatar"><a rel="nofollow author" target="_blank" href="http://t.qq.com/mt644527030" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7261643&#39;;" title="马腾"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/50" alt="马腾"></a></div><div class="ds-ctx-body"><div class="ds-ctx-head"><a rel="nofollow author" target="_blank" href="http://t.qq.com/mt644527030">马腾</a><span class="ds-time" datetime="2014-06-20T11:20:13+08:00" title="2014年6月20日 上午11:20:13">6月20日</span><div class="ds-ctx-nth" title="2014年6月20日 上午11:20:13">1楼</div></div><div class="ds-ctx-content">方老师，这个程序回复多图文为什么返回的也是单图文？　　　　　　　<div class="ds-comment-actions"><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a> <a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a> <a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a></div></div></div></li><li class="ds-ctx-entry" data-post-id="1303589781984248317"><div class="ds-avatar"><a rel="nofollow author" target="_blank" href="http://www.cnblogs.com/txw1958/" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=3725608&#39;;" title="方倍"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/100" alt="方倍"></a></div><div class="ds-ctx-body"><div class="ds-ctx-head"><a rel="nofollow author" target="_blank" href="http://www.cnblogs.com/txw1958/">方倍</a><span class="ds-time" datetime="2014-06-20T12:58:19+08:00" title="2014年6月20日 下午12:58:19">6月20日</span><div class="ds-ctx-nth" title="2014年6月20日 下午12:58:19">2楼</div></div><div class="ds-ctx-content">是个bug，已修复。　　　　　　　<div class="ds-comment-actions"><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a> <a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a> <a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a></div></div></div></li></ol><p>谢谢，现在好了</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-21T00:48:07+08:00" title="2014年6月21日 上午12:48:07">22小时前</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248325"><div class="ds-post-self" data-post-id="1303589781984248325" data-thread-id="1303589781984247810" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7539818"><a rel="nofollow author" target="_blank" href="http://t.qq.com/yangzhihao4126" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7539818&#39;;" title="杨志豪"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/87323.jpg" alt="杨志豪"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/yangzhihao4126" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7539818&#39;;" rel="nofollow" target="_blank" data-user-id="7539818">杨志豪</a></div><p>我想问问发货通知那里的appkey和付款的appkey要一样吗?</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-20T17:31:46+08:00" title="2014年6月20日 下午5:31:46">6月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248323"><div class="ds-post-self" data-post-id="1303589781984248323" data-thread-id="1303589781984247810" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7539710"><a rel="nofollow author" target="_blank" href="http://weibo.com/1812797675" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7539710&#39;;" title="Bertha_柏莎"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/0(1)" alt="Bertha_柏莎"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/1812797675" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7539710&#39;;" rel="nofollow" target="_blank" data-user-id="7539710">Bertha_柏莎</a></div><p>那个认证订阅号，微信提示我生成成功，但是微信端就是不显示，是什么问题呀？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-20T17:25:35+08:00" title="2014年6月20日 下午5:25:35">6月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248322"><div class="ds-post-self" data-post-id="1303589781984248322" data-thread-id="1303589781984247810" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7538331"><a rel="nofollow author" target="_blank" href="http://t.qq.com/lu1720058228007" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7538331&#39;;" title="美丽人生"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/50(1)" alt="美丽人生"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/lu1720058228007" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7538331&#39;;" rel="nofollow" target="_blank" data-user-id="7538331">美丽人生</a></div><p>你好，请问一下各位：上面方老师的这句支付测试“将其中的微信支付参数修改成自己所申请得到的，然后将网页上传到微信支付目录下，给测试账号回复该网页地址。用户就可以实现一次JS API支付。”<br>
什么样操作才能给测试账号回复该网页地址呢？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-20T15:56:32+08:00" title="2014年6月20日 下午3:56:32">6月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248321"><div class="ds-post-self" data-post-id="1303589781984248321" data-thread-id="1303589781984247810" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7537653"><a rel="nofollow author" target="_blank" href="http://t.qq.com/yaohaidi" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7537653&#39;;" title="姚海迪"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/50(2)" alt="姚海迪"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/yaohaidi" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7537653&#39;;" rel="nofollow" target="_blank" data-user-id="7537653">姚海迪</a></div><p>上报地理位置的接口只有认证服务号才有吗？认证订阅号不行是不是？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-20T15:14:21+08:00" title="2014年6月20日 下午3:14:21">6月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248320"><div class="ds-post-self" data-post-id="1303589781984248320" data-thread-id="1303589781984247810" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7537653"><a rel="nofollow author" target="_blank" href="http://t.qq.com/yaohaidi" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7537653&#39;;" title="姚海迪"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/50(2)" alt="姚海迪"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/yaohaidi" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7537653&#39;;" rel="nofollow" target="_blank" data-user-id="7537653">姚海迪</a></div><p>上报地理位置的接口只有认证服务号才有吗？认证订阅号不行是不是？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-20T15:13:29+08:00" title="2014年6月20日 下午3:13:29">6月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="1303589781984248319"><div class="ds-post-self" data-post-id="1303589781984248319" data-thread-id="1303589781984247810" data-root-id="1303589781984248306" data-source="duoshuo"><div class="ds-avatar" data-user-id="7525636"><a rel="nofollow author" target="_blank" href="http://t.qq.com/li592278661" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7525636&#39;;" title="李望"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/87323.jpg" alt="李望"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/li592278661" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7525636&#39;;" rel="nofollow" target="_blank" data-user-id="7525636">李望</a></div><ol id="ds-ctx"><li class="ds-ctx-entry" data-post-id="1303589781984248306"><div class="ds-avatar"><a rel="nofollow author" target="_blank" href="http://t.qq.com/li592278661" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=7525636&#39;;" title="李望"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/87323.jpg" alt="李望"></a></div><div class="ds-ctx-body"><div class="ds-ctx-head"><a rel="nofollow author" target="_blank" href="http://t.qq.com/li592278661">李望</a><span class="ds-time" datetime="2014-06-19T21:07:39+08:00" title="2014年6月19日 下午9:07:39">6月19日</span><div class="ds-ctx-nth" title="2014年6月19日 下午9:07:39">1楼</div></div><div class="ds-ctx-content">老师我用微信公众平台账号做了个自定义菜单各种推送模式都很正常，但我把代码放到另个空间然后又用另一个服务号验证通过，然后把验证的文件覆盖掉了，这个菜单显示正常，但不推送文本或图文了。。请老师给我说一下解决的办法！！想了2天了。。非常谢谢老师　　　　　　　<div class="ds-comment-actions"><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a> <a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a> <a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a></div></div></div></li><li class="ds-ctx-entry" data-post-id="1303589781984248315"><div class="ds-avatar"><a rel="nofollow author" target="_blank" href="http://www.cnblogs.com/txw1958/" onclick="this.href=&#39;http://pondbay.duoshuo.com/user-url/?user_id=3725608&#39;;" title="方倍"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/100" alt="方倍"></a></div><div class="ds-ctx-body"><div class="ds-ctx-head"><a rel="nofollow author" target="_blank" href="http://www.cnblogs.com/txw1958/">方倍</a><span class="ds-time" datetime="2014-06-20T12:57:34+08:00" title="2014年6月20日 下午12:57:34">6月20日</span><div class="ds-ctx-nth" title="2014年6月20日 下午12:57:34">2楼</div></div><div class="ds-ctx-content">只能自己调试代码了　　　　　　　<div class="ds-comment-actions"><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a> <a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a> <a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a></div></div></div></li></ol><p>老师会不会跟域名有什么联系！！代码都没问题！！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2014-06-20T14:54:00+08:00" title="2014年6月20日 下午2:54:00">6月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul><div class="ds-paginator"><div class="ds-border"></div><a data-page="1" href="javascript:void(0);" class="ds-current">1</a> <a data-page="2" href="javascript:void(0);">2</a> <a data-page="3" href="javascript:void(0);">3</a> <a data-page="4" href="javascript:void(0);">4</a> <a data-page="5" href="javascript:void(0);">5</a> <span class="page-break">...</span> <a data-page="41" href="javascript:void(0);">41</a></div><a name="respond"></a><div class="ds-login-buttons"><p>社交帐号登录:</p><div class="ds-social-links"><ul class="ds-service-list"><li><a href="http://pondbay.duoshuo.com/login/weibo/" rel="nofollow" class="ds-service-link ds-weibo">微博</a></li><li><a href="http://pondbay.duoshuo.com/login/qq/" rel="nofollow" class="ds-service-link ds-qq">QQ</a></li><li><a href="http://pondbay.duoshuo.com/login/renren/" rel="nofollow" class="ds-service-link ds-renren">人人</a></li><li><a href="http://pondbay.duoshuo.com/login/douban/" rel="nofollow" class="ds-service-link ds-douban">豆瓣</a></li><li><a class="ds-more-services" href="javascript:void(0)">更多»</a></li></ul><ul class="ds-service-list ds-additional-services"><li><a href="http://pondbay.duoshuo.com/login/kaixin/" rel="nofollow" class="ds-service-link ds-kaixin">开心</a></li><li><a href="http://pondbay.duoshuo.com/login/netease/" rel="nofollow" class="ds-service-link ds-netease">网易</a></li><li><a href="http://pondbay.duoshuo.com/login/sohu/" rel="nofollow" class="ds-service-link ds-sohu">搜狐</a></li><li><a href="http://pondbay.duoshuo.com/login/baidu/" rel="nofollow" class="ds-service-link ds-baidu">百度</a></li><li><a href="http://pondbay.duoshuo.com/login/google/" rel="nofollow" class="ds-service-link ds-google">谷歌</a></li></ul></div></div><div class="ds-replybox"><a class="ds-avatar" href="javascript:void(0);" onclick="return false"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/87323.jpg" alt=""></a><form method="post"><input type="hidden" name="thread_id" value="1303589781984247810">
<input type="hidden" name="parent_id" value="">
<input type="hidden" name="nonce" value="53a5958ead603"><div class="ds-textarea-wrapper ds-rounded-top"><textarea name="message" title="Ctrl+Enter快捷提交" placeholder="说点什么吧…"></textarea><pre class="ds-hidden-text"></pre></div><div class="ds-post-toolbar"><div class="ds-post-options ds-gradient-bg"><span class="ds-sync"></span></div><button class="ds-post-button" type="submit">发布</button><div class="ds-toolbar-buttons"><a class="ds-toolbar-button ds-add-emote" title="插入表情"></a></div></div></form></div><p class="ds-powered-by"><a href="http://duoshuo.com/" target="_blank" rel="nofollow">Powered by 多说</a></p></div></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->

<!-- 多说公共JS代码 end --></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="blog_post_info"><div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/txw1958/category/407134.html">微信开发</a>, <a href="http://www.cnblogs.com/txw1958/category/545893.html">开发教程</a></div>
<div id="EntryTag"></div>
<div id="green_channel">
绿色通道：
<a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(cb_entryId,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
<a id="green_channel_follow" onclick="c_follow();" href="javascript:void(0);">关注我</a>
<a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a><a id="green_channel_contact" href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" target="_blank">与我联系</a>
<a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/icon_weibo_24.png" alt=""></a>
</div>
<div id="digg_block">
<div id="author_profile">
<div id="author_profile_info" class="author_profile_info">
<a href="http://home.cnblogs.com/u/txw1958/" target="_blank"><img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/20131017185242.png" class="author_avatar" alt=""></a>
<div id="author_profile_detail" class="author_profile_info">
<a href="http://home.cnblogs.com/u/txw1958/">方倍工作室</a><br>
<a href="http://home.cnblogs.com/u/txw1958/followees">关注 - 0</a><br>
<a href="http://home.cnblogs.com/u/txw1958/followers">粉丝 - 926</a>
</div>
</div>
<div class="clear"></div>
<div id="author_profile_honor"></div>
<div id="author_profile_follow">
<a href="javascript:void(0);" onclick="c_follow();return false;">+加关注</a>
</div>
</div>
<div id="div_digg">										
	<div class="diggit" onclick="votePost(cb_entryId,&#39;Digg&#39;)"> 
		<span class="diggnum" id="digg_count">34</span>
	</div>
	<div class="buryit" onclick="votePost(cb_entryId,&#39;Bury&#39;)"> 
		<span class="burynum" id="bury_count">0</span>
	</div>
	<div class="clear"></div>	
	<div class="diggword" id="digg_tips">
    (请您对文章做出评价)
    </div>	
</div>
</div></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/txw1958/p/3152138.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/txw1958/p/3152138.html" title="发布于2013-06-24 11:24">微信公众平台开发（42）情侣相夫妻相</a><br><a href="http://www.cnblogs.com/txw1958/p/3172902.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/txw1958/p/3172902.html" title="发布于2013-07-05 00:22">淘宝天猫店铺微信公众平台建设指南</a><br></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2013-06-24 22:20</span> <a href="http://www.cnblogs.com/txw1958/">方倍工作室</a> 阅读(<span id="post_view_count">279923</span>) 评论(<span id="post_comment_count">78</span>)  <a href="http://i.cnblogs.com/EditPosts.aspx?postid=3153567" rel="nofollow">编辑</a> <a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#" onclick="AddToWz(3153567);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=99079,cb_entryId=3153567,cb_blogApp=currentBlogApp,cb_blogUserGuid='cf14d8e0-c6f4-e011-8ee0-842b2b196315',cb_entryCreatedDate='2013/6/24 22:20:00';loadViewCount(cb_entryId);</script>
	
</div><!--end: topics 文章、评论容器-->
<a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"><div class="pager"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#!comments" onclick="commentManager.renderComments(1,50);return false;">&lt; Prev</a><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#!comments" onclick="commentManager.renderComments(1,50);return false;">1</a><span class="current">2</span></div></div>
<!--done-->
<div class="feedback_area_title">评论列表</div>
<div class="feedbackNoItems"></div>
	

		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2900655" class="layer">#51楼</a><a name="2900655" id="comment_anchor_2900655"></a>  <span class="comment_date">2014-03-21 18:02</span> <a id="a_comment_author_2900655" href="http://home.cnblogs.com/u/615189/" target="_blank">中国老农</a> <a href="http://space.cnblogs.com/msg/send/%e4%b8%ad%e5%9b%bd%e8%80%81%e5%86%9c" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2900655" class="blog_comment_body">文字写的不错值得分享，不过我对代码不太懂，文章中的自动回复的代码应该放到那，如何放，我还是不太明白希望大神能给与指点。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2900655,&#39;Digg&#39;,this)">支持(1)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2900655,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2900785" class="layer">#52楼</a><a name="2900785" id="comment_anchor_2900785"></a>  <span class="comment_date">2014-03-22 00:18</span> <a id="a_comment_author_2900785" href="http://home.cnblogs.com/u/615845/" target="_blank">大汐</a> <a href="http://space.cnblogs.com/msg/send/%e5%a4%a7%e6%b1%90" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2900785" class="blog_comment_body">还想学的更多一点</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2900785,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2900785,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2905894" class="layer">#53楼</a><a name="2905894" id="comment_anchor_2905894"></a>  <span class="comment_date">2014-03-27 23:06</span> <a id="a_comment_author_2905894" href="http://www.cnblogs.com/huailehang/" target="_blank">superdisk</a> <a href="http://space.cnblogs.com/msg/send/superdisk" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2905894" class="blog_comment_body">很有用，希望有更多的分享！赞一个</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2905894,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2905894,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2905894_avatar" style="display:none;">http://pic.cnitblog.com/face/612223/20140312092357.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2907215" class="layer">#54楼</a><a name="2907215" id="comment_anchor_2907215"></a>  <span class="comment_date">2014-03-30 00:58</span> <a id="a_comment_author_2907215" href="http://www.cnblogs.com/oncealong/" target="_blank">武右非戈</a> <a href="http://space.cnblogs.com/msg/send/%e6%ad%a6%e5%8f%b3%e9%9d%9e%e6%88%88" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2907215" class="blog_comment_body">楼主的教程很给力，万分感谢您的奉献</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2907215,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2907215,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2916476" class="layer">#55楼</a><a name="2916476" id="comment_anchor_2916476"></a>  <span class="comment_date">2014-04-12 18:38</span> <a id="a_comment_author_2916476" href="http://home.cnblogs.com/u/302557/" target="_blank">莪的</a> <a href="http://space.cnblogs.com/msg/send/%e8%8e%aa%e7%9a%84" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2916476" class="blog_comment_body">写的不错<br>刚开始研究微信公众平台，请多指教</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2916476,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2916476,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2917134" class="layer">#56楼</a><a name="2917134" id="comment_anchor_2917134"></a>  <span class="comment_date">2014-04-14 10:14</span> <a id="a_comment_author_2917134" href="http://home.cnblogs.com/u/623518/" target="_blank">最暖</a> <a href="http://space.cnblogs.com/msg/send/%e6%9c%80%e6%9a%96" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2917134" class="blog_comment_body">已经成为了开发者，后面的自动回复的代码放在哪？怎么弄？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2917134,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2917134,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2917395" class="layer">#57楼</a><a name="2917395" id="comment_anchor_2917395"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-04-14 14:21</span> <a id="a_comment_author_2917395" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2917395" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2917134" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2917134);">@</a>最暖<br>自由发挥了，或者参考看本博客其他文章</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2917395,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2917395,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2917395_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2918987" class="layer">#58楼</a><a name="2918987" id="comment_anchor_2918987"></a>  <span class="comment_date">2014-04-16 11:12</span> <a id="a_comment_author_2918987" href="http://www.cnblogs.com/wcp-boy/" target="_blank">吴存平</a> <a href="http://space.cnblogs.com/msg/send/%e5%90%b4%e5%ad%98%e5%b9%b3" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2918987" class="blog_comment_body">写的太全面了~~UP~~~~</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2918987,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2918987,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2920589" class="layer">#59楼</a><a name="2920589" id="comment_anchor_2920589"></a>  <span class="comment_date">2014-04-18 14:18</span> <a id="a_comment_author_2920589" href="http://www.cnblogs.com/comrd/" target="_blank">^懒洋洋^</a> <a href="http://space.cnblogs.com/msg/send/%5e%e6%87%92%e6%b4%8b%e6%b4%8b%5e" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2920589" class="blog_comment_body">必须要申请微信公众号吗？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2920589,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2920589,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2920589_avatar" style="display:none;">http://pic.cnitblog.com/face/u166438.jpg?id=01113515</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2922572" class="layer">#60楼</a><a name="2922572" id="comment_anchor_2922572"></a>  <span class="comment_date">2014-04-22 09:13</span> <a id="a_comment_author_2922572" href="http://home.cnblogs.com/u/97828/" target="_blank">风中的太阳</a> <a href="http://space.cnblogs.com/msg/send/%e9%a3%8e%e4%b8%ad%e7%9a%84%e5%a4%aa%e9%98%b3" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2922572" class="blog_comment_body">不太明白，请教一下。注册成功后的用户管理页面是如何与微信服务器联接的。在您好的程序中没看到写入服务器地址啊?那这些程序是如何从微信服务器上取数据的呢?</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2922572,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2922572,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2925975" class="layer">#61楼</a><a name="2925975" id="comment_anchor_2925975"></a>  <span class="comment_date">2014-04-26 16:40</span> <a id="a_comment_author_2925975" href="http://home.cnblogs.com/u/628051/" target="_blank">吴小云SEO</a> <a href="http://space.cnblogs.com/msg/send/%e5%90%b4%e5%b0%8f%e4%ba%91SEO" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2925975" class="blog_comment_body">非常感谢方倍工作室！不懂代码，十遍之后顿悟的感觉！公司的认证订阅号已搞定！看到location里面的label是华侨城，我很想说我也在华侨城工作！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2925975,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2925975,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2927829" class="layer">#62楼</a><a name="2927829" id="comment_anchor_2927829"></a>  <span class="comment_date">2014-04-29 15:14</span> <a id="a_comment_author_2927829" href="http://home.cnblogs.com/u/628956/" target="_blank">天使、枫</a> <a href="http://space.cnblogs.com/msg/send/%e5%a4%a9%e4%bd%bf%e3%80%81%e6%9e%ab" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2927829" class="blog_comment_body">这里面的很多东西都还是值得学习的，但是并不是所有的都可以学习到，在教程的作者不断补充教程知识的时候，有些东西还是要自己学的，不过这一篇教程涵盖了微信基本入门的开发使用实例，是一篇很不错的教程，值得大家学习与分享。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2927829,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2927829,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2928101" class="layer">#63楼</a><a name="2928101" id="comment_anchor_2928101"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-04-29 20:34</span> <a id="a_comment_author_2928101" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2928101" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2922572" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2922572);">@</a>风中的太阳<br>已更新</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2928101,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2928101,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2928101_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2928102" class="layer">#64楼</a><a name="2928102" id="comment_anchor_2928102"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-04-29 20:34</span> <a id="a_comment_author_2928102" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2928102" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2927829" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2927829);">@</a>天使、枫<br>thanks</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2928102,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2928102,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2928102_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2936263" class="layer">#65楼</a><a name="2936263" id="comment_anchor_2936263"></a>  <span class="comment_date">2014-05-10 23:27</span> <a id="a_comment_author_2936263" href="http://home.cnblogs.com/u/632519/" target="_blank">初学者小白</a> <a href="http://space.cnblogs.com/msg/send/%e5%88%9d%e5%ad%a6%e8%80%85%e5%b0%8f%e7%99%bd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2936263" class="blog_comment_body">我是初学者 准备买本书研究一下 初学的能看明白吗</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2936263,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2936263,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2938300" class="layer">#66楼</a><a name="2938300" id="comment_anchor_2938300"></a>  <span class="comment_date">2014-05-13 20:26</span> <a id="a_comment_author_2938300" href="http://home.cnblogs.com/u/633454/" target="_blank">简单亦是美</a> <a href="http://space.cnblogs.com/msg/send/%e7%ae%80%e5%8d%95%e4%ba%a6%e6%98%af%e7%be%8e" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2938300" class="blog_comment_body">请问 我既要有 第四章 微信公众平台PHP SDK 代码的这个功能 又要有第六章说的天气预报的功能 请问我们怎么进行整合 我也试过很多方法 有 上下放，有另一个代码插入到前一个代码 有新建了一个.php文件 但是都没有用 这个怎么办的呢</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2938300,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2938300,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2938843" class="layer">#67楼</a><a name="2938843" id="comment_anchor_2938843"></a>  <span class="comment_date">2014-05-14 16:11</span> <a id="a_comment_author_2938843" href="http://home.cnblogs.com/u/597955/" target="_blank">xman100</a> <a href="http://space.cnblogs.com/msg/send/xman100" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2938843" class="blog_comment_body">微信开发多图文那一项，调用transmitNews方法的时候，微信的格式好像多了个&lt;content&gt;标签，官方文档里面没有这个标签</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2938843,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2938843,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2938882" class="layer">#68楼</a><a name="2938882" id="comment_anchor_2938882"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-05-14 16:57</span> <a id="a_comment_author_2938882" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2938882" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2938843" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2938843);">@</a>xman100<br>对，可以删除掉</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2938882,&#39;Digg&#39;,this)">支持(1)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2938882,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2938882_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2938883" class="layer">#69楼</a><a name="2938883" id="comment_anchor_2938883"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-05-14 16:58</span> <a id="a_comment_author_2938883" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2938883" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2936263" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2936263);">@</a>初学者小白<br>有php基础即可</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2938883,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2938883,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2938883_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2939084" class="layer">#70楼</a><a name="2939084" id="comment_anchor_2939084"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-05-14 23:32</span> <a id="a_comment_author_2939084" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2939084" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2938300" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2938300);">@</a>简单亦是美<br>你可以先看一下php的基础，了解php程序的结构，</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2939084,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2939084,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2939084_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2939416" class="layer">#71楼</a><a name="2939416" id="comment_anchor_2939416"></a>  <span class="comment_date">2014-05-15 12:31</span> <a id="a_comment_author_2939416" href="http://home.cnblogs.com/u/633996/" target="_blank">疯疯寻尘</a> <a href="http://space.cnblogs.com/msg/send/%e7%96%af%e7%96%af%e5%af%bb%e5%b0%98" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2939416" class="blog_comment_body">楼主啊   为什么那个代码一直显示正在上传  也没有提示成功吗 ？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2939416,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2939416,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2939664" class="layer">#72楼</a><a name="2939664" id="comment_anchor_2939664"></a>  <span class="comment_date">2014-05-15 16:54</span> <a id="a_comment_author_2939664" href="http://home.cnblogs.com/u/634136/" target="_blank">qcnuo</a> <a href="http://space.cnblogs.com/msg/send/qcnuo" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2939664" class="blog_comment_body">$keyword = trim($object-&gt;Content);<br>$url = "h$t$t$p:$//apix_sinaapp_com/weather/?appkey=".$object-&gt;ToUserName."&amp;city=".urlencode($keyword); <br>        $output = file_get_contents($url);<br>        $content = json_decode($output, true);<br><br>        $result = $this-&gt;transmitNews($object, $content);<br><br><br><br>关于这一不是 $url  返回的  json   我这边返回的json 一样  为什么 不行   appkey  怎么处理的</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2939664,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2939664,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2941170" class="layer">#73楼</a><a name="2941170" id="comment_anchor_2941170"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-05-18 14:02</span> <a id="a_comment_author_2941170" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2941170" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2939664" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2939664);">@</a>qcnuo<br>代码错了</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2941170,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2941170,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2941170_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2942590" class="layer">#74楼</a><a name="2942590" id="comment_anchor_2942590"></a>  <span class="comment_date">2014-05-20 14:05</span> <a id="a_comment_author_2942590" href="http://www.cnblogs.com/Mondy/" target="_blank">缘鬼才</a> <a href="http://space.cnblogs.com/msg/send/%e7%bc%98%e9%ac%bc%e6%89%8d" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2942590" class="blog_comment_body">是C#版本就好了，这本书《微信公众平台开发最佳实践》是用什么语言开发的?</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2942590,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2942590,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2942590_avatar" style="display:none;">http://pic.cnitblog.com/face/u277118.jpg</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2944019" class="layer">#75楼</a><a name="2944019" id="comment_anchor_2944019"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-05-22 10:11</span> <a id="a_comment_author_2944019" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2944019" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2942590" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2942590);">@</a>缘鬼才<br>php</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2944019,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2944019,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2944019_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2950790" class="layer">#76楼</a><a name="2950790" id="comment_anchor_2950790"></a>  <span class="comment_date">2014-05-27 17:36</span> <a id="a_comment_author_2950790" href="http://home.cnblogs.com/u/637831/" target="_blank">lv_tk</a> <a href="http://space.cnblogs.com/msg/send/lv_tk" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2950790" class="blog_comment_body">老师好，请问为什么 我写的中文的问号？  识别不了，照着你写的，中文也不能识别</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2950790,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2950790,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2953912" class="layer">#77楼</a><a name="2953912" id="comment_anchor_2953912"></a>  <span class="comment_date">2014-05-29 20:03</span> <a id="a_comment_author_2953912" href="http://home.cnblogs.com/u/638524/" target="_blank">万古紫霄</a> <a href="http://space.cnblogs.com/msg/send/%e4%b8%87%e5%8f%a4%e7%b4%ab%e9%9c%84" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2953912" class="blog_comment_body">老师你好，我想在微信平台中添加菜单，这个应该怎么做呢？谢谢！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2953912,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2953912,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2955644" class="layer">#78楼</a><a name="2955644" id="comment_anchor_2955644"></a>[<span class="louzhu">楼主</span>]<span id="comment-maxId" style="display:none;">2955644</span><span id="comment-maxDate" style="display:none;">2014/5/31 19:12:33</span>  <span class="comment_date">2014-05-31 19:12</span> <a id="a_comment_author_2955644" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://space.cnblogs.com/msg/send/%e6%96%b9%e5%80%8d%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955644" class="blog_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2953912" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2953912);">@</a>万古紫霄<br>首页置顶教程中有所有微信开发技术的教程</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955644,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955644,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955644_avatar" style="display:none;">http://pic.cnitblog.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	<div id="comments_pager_bottom"><div class="pager"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#!comments" onclick="commentManager.renderComments(1,50);return false;">&lt; Prev</a><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#!comments" onclick="commentManager.renderComments(1,50);return false;">1</a><span class="current">2</span></div></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#" onclick="return RefreshPage();">刷新页面</a><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.cnblogs.com/" target="_blank" title="开发者的网上家园">博客园首页</a><a href="http://q.cnblogs.com/" target="_blank" title="程序员问答社区">博问</a><a href="http://news.cnblogs.com/" target="_blank" title="IT新闻">新闻</a><a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a><a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a><a href="http://kb.cnblogs.com/" target="_blank">知识库</a></div>
<div id="opt_under_post"></div>
<script type="text/javascript">
    var enableGoogleAd = true;var googletag = googletag || {};googletag.cmd = googletag.cmd || [];
    fixPostBodyFormat();
</script>
<div id="ad_under_post_holder">
<script type="text/javascript">
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    (function () {
        var gads = document.createElement('script');
        gads.async = true;
        gads.type = 'text/javascript';
        var useSSL = 'https:' == document.location.protocol;
        gads.src = (useSSL ? 'https:' : 'http:') +'//www.googletagservices.com/tag/js/gpt.js';
        var node = document.getElementsByTagName('script')[0];
        node.parentNode.insertBefore(gads, node);
    })();
</script>
<script type="text/javascript">
    try {
        googletag.cmd.push(function () {
            googletag.defineSlot('/1090369/cnblogs_blogpost_C1_sitehome', [300, 250], 'div-gpt-ad-1346480159711-0').addService(googletag.pubads());
            googletag.defineSlot('/1090369/cnblogs_blogpost_C2_sitehome', [468, 60], 'div-gpt-ad-1346479110744-1').addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    } catch (e) { }
</script>
<div id="google_ad_c1" class="c_ad_block">
    <div id="div-gpt-ad-1346480159711-0" style="width:300px; height:250px;">
    <script type="text/javascript">
    try{
        googletag.cmd.push(function () { googletag.display('div-gpt-ad-1346480159711-0'); });
    } catch (e) { }
    </script>
    </div>
</div>
</div>
<div id="blog_news_kb"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/210965/" target="_blank">任天堂这下要赔到姥姥家了</a><br> ·  <a href="http://news.cnblogs.com/n/210964/" target="_blank">P2P网贷是普惠金融纯属扯淡</a><br> ·  <a href="http://news.cnblogs.com/n/210963/" target="_blank">手机屏幕比马桶脏?新大猩猩玻璃可减70%细菌</a><br> ·  <a href="http://news.cnblogs.com/n/210962/" target="_blank">闹哪样？谷歌搜索开始动音乐APP的奶酪</a><br> ·  <a href="http://news.cnblogs.com/n/210961/" target="_blank">原来WiFi长成这样：盘旋光束如幽灵</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/210645/" target="_blank">如何系统性地保障软件的性能</a><br> ·  <a href="http://kb.cnblogs.com/page/210836/" target="_blank">程序员的样子（二）</a><br> ·  <a href="http://kb.cnblogs.com/page/210687/" target="_blank">程序员必须知道的10大基础实用算法及其讲解</a><br> ·  <a href="http://kb.cnblogs.com/page/200253/" target="_blank">扁平和简约来袭</a><br> ·  <a href="http://kb.cnblogs.com/page/208616/" target="_blank">前端开发中使用”有限状态机“解决复杂的交互问题</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
$(function () {
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    $.ajax({ url: 'http://counter.cnblogs.com/blog/post/' + cb_entryId, type: 'get', dataType: 'script', cache: true });
});
</script>
<script type="text/javascript">    
</script>
</div>

	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"><div>
<p style="padding-left:30px">
<a href="http://israel.sinaapp.com/trace/bulletin.php?entity=practice" target="_blank">
<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/301756448922305.jpg" width="135" height="192"></a>
</p>
<p>
<strong style="color: red;"><span>《微信公众平台开发最佳实践》</span></strong>
</p>
</div>
<div>
<span style="font-size: 9pt;">案例最多：</span>
<span style="font-size: 9pt; color: #0000ff;">超30个应用及功能代码</span>
</div>
<div>
<span style="font-size: 9pt;">内容最全：</span>
<span style="font-size: 9pt; color: #0000ff;">覆盖微信五大体系接口</span>
</div>
<div>
<span style="font-size: 9pt;">专家推荐：</span>
<span style="font-size: 9pt; color: #0000ff;">O2O第一媒体CEO推荐</span>
</div>
<div>
<span style="font-size: 9pt;">经典语言：</span>
<span style="font-size: 9pt; color: #0000ff;">使用PHP+MySQL编写</span>
</div>
<div>
<span style="font-size: 9pt;">源码开放：</span>
<span style="font-size: 9pt; color: #0000ff;">已购书读者可下载源码</span>
</div>
<div>
<span style="font-size: 9pt;">最受欢迎：</span>
<span style="font-size: 9pt; color: #0000ff;">入门教程达20万阅读量</span>
</div>
<div>
<span style="font-size: 9pt;">帮助成功：</span>
<span style="font-size: 9pt; color: #0000ff;">去年就已有学生赚几千</span>
</div>
<div>
<p>
<strong style="color: red;"><span>购买方式</span></strong> <span style="color: #808080;">点击下面图标购买
</span></p>
<div>
<span>
<a href="http://israel.sinaapp.com/trace/bulletin.php?entity=jd" target="_blank">
<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/302113112983585.jpg" alt=""></a>
</span>
<span>
<a href="http://israel.sinaapp.com/trace/bulletin.php?entity=dangdang" target="_blank">
<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/302113235486194.jpg" alt="">
</a>
</span>
</div>
<div>
<span>
<a href="http://israel.sinaapp.com/trace/bulletin.php?entity=tmall" target="_blank">
<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/302113169236803.jpg" alt="">
</a>
</span>
<span>
<a href="http://israel.sinaapp.com/trace/bulletin.php?entity=amazon" target="_blank">
<img src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/302113047052438.jpg" alt="">
</a>
</span>
</div>

<p>&nbsp;</p>
<div style="display:none">
<div style="display: none" id="__document_write_ajax_div-6"></div></div>


<div style="display: none" id="__document_write_ajax_div-2"></div>
<wb:follow-button uid="1722657290" type="red_3" width="100%" height="24"></wb:follow-button><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/txw1958/">方倍工作室</a><br>园龄：<a href="http://home.cnblogs.com/u/txw1958/" title="入园时间：2011-10-12">2年8个月</a><br>粉丝：<a href="http://home.cnblogs.com/u/txw1958/followers/">926</a><br>关注：<a href="http://home.cnblogs.com/u/txw1958/followees/">0</a><div id="p_b_follow"></div><div style="display: none" id="__document_write_ajax_div-3"></div></div></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn">

<div class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>

</div>


<div class="catListEssay">
<h3 class="catListTitle">最新随笔</h3>
<ul>
<li><a href="http://www.cnblogs.com/txw1958/p/weixin96-multi-function.html">1. 微信公众平台开发(96)  多个功能整合</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin95-2014-worldcup.html">2. 微信公众平台开发(95) 世界杯赛程</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-mp-register.html">3. 微信公众平台注册</a></li><li><a href="http://www.cnblogs.com/txw1958/p/wxpay-feedback.html">4. 微信支付开发(8) 维权通知</a></li><li><a href="http://www.cnblogs.com/txw1958/p/wxpay-alarm.html">5. 微信支付开发(7) 告警通知</a></li><li><a href="http://www.cnblogs.com/txw1958/p/wxpay-deliver-notify.html">6. 微信支付开发(6) 发货通知</a></li><li><a href="http://www.cnblogs.com/txw1958/p/wxpay-order-query.html">7. 微信支付开发(5) 订单查询</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-pay-trade-notice.html">8. 微信支付开发(4) 交易通知</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-jsapi-pay.html">9. 微信支付开发(3) JS API支付</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-pay-account-system.html">10. 微信支付开发(2) 微信支付账号体系</a></li>
</ul>
</div>

<div class="catListPostCategory">
<h3 class="catListTitle">随笔分类<span style="font-size:11px;font-weight:normal">(256)</span></h3>

<ul>

<li><a id="ctl02_CatList_LinkList_0_Link_0" href="http://www.cnblogs.com/txw1958/category/545892.html">高级接口(19)</a> </li>

<li><a id="ctl02_CatList_LinkList_0_Link_1" href="http://www.cnblogs.com/txw1958/category/545893.html">开发教程(19)</a> </li>

<li><a id="ctl02_CatList_LinkList_0_Link_2" href="http://www.cnblogs.com/txw1958/category/545894.html">微信动态(38)</a> </li>

<li><a id="ctl02_CatList_LinkList_0_Link_3" href="http://www.cnblogs.com/txw1958/category/407134.html">微信开发(161)</a> </li>

<li><a id="ctl02_CatList_LinkList_0_Link_4" href="http://www.cnblogs.com/txw1958/category/545895.html">微信认证(2)</a> </li>

<li><a id="ctl02_CatList_LinkList_0_Link_5" href="http://www.cnblogs.com/txw1958/category/545896.html">微信支付(17)</a> </li>

</ul>

</div>

<div class="catList">
<h3 class="catListTitle">微信导航</h3>

<ul>

<li><a id="ctl02_CatList_LinkList_1_Link_0" rel="nofollow" href="http://www.cnblogs.com/txw1958/p/weixin-development-best-practice.html" target="_blank">《微信公众平台开发最佳实践》</a> </li>

<li><a id="ctl02_CatList_LinkList_1_Link_1" rel="nofollow" href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/微信公众平台开发入门教程 - 方倍工作室 - 博客园.htm" target="_blank">微信公众平台开发入门教程</a> </li>

<li><a id="ctl02_CatList_LinkList_1_Link_2" rel="nofollow" href="http://item.taobao.com/item.htm?id=37979420283" target="_blank">微信公众平台开发实战指导</a> </li>

</ul>

</div>

<div class="catList">
<h3 class="catListTitle">友情链接</h3>

<ul>

<li><a id="ctl02_CatList_LinkList_2_Link_0" rel="nofollow" href="http://www.helloweba.com/" target="_blank">helloweba</a> </li>

<li><a id="ctl02_CatList_LinkList_2_Link_1" rel="nofollow" href="http://www.highcharts.com/" target="_blank">Highcharts</a> </li>

</ul>

</div>


<div class="catListComment">
<h3 class="catListTitle">最新评论</h3>
	<div id="RecentCommentsBlock"><ul>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/txw1958/archive/2012/11/06/programmer-personal-work.html#2969139">1. Re:程序员接私活经验谈[转]</a></li>
    <li class="recent_comment_body">学习了。让我这个半吊子的程序员深受启发。</li>
    <li class="recent_comment_author">--scrit</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/txw1958/p/weixin-transfer-customer-service.html#2968954">2. Re:微信公众平台开发(92) 多客服</a></li>
    <li class="recent_comment_body">@Irwin哥们，咱俩是不是一个问题啊。不开多客服功能，菜单、关键字触发都可以。要是开了多客服，所有的功能都不行了，对吧？你也是用的 第三方的微信代码么？...</li>
    <li class="recent_comment_author">--小林智信</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/txw1958/p/weixin71-oauth20.html#2968931">3. Re:微信公众平台开发（71）OAuth2.0网页授权</a></li>
    <li class="recent_comment_body">感谢方老师</li>
    <li class="recent_comment_author">--本本</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/txw1958/p/weixin-transfer-customer-service.html#2968445">4. Re:微信公众平台开发(92) 多客服</a></li>
    <li class="recent_comment_body"><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html#2968366" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2968366);">@</a>Irwin<br>要自己写代码</li>
    <li class="recent_comment_author">--方倍工作室</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/txw1958/p/weixin-transfer-customer-service.html#2968444">5. Re:微信公众平台开发(92) 多客服</a></li>
    <li class="recent_comment_body">@Irwin四、其他注意事项1. 经测试，在自定义菜单中返回多客服消息，无法让用户进入多客服状态。 2. 使用多客服消息后，后续所有消息在一段时间内都将作为客服消息转发，原来的开发模式下的自动回复都将失效！！！3. 除了上述程序开发之外，多客服系统还需要进行系统配置。配置的相关内容可参考：多客服新手......</li>
    <li class="recent_comment_author">--方倍工作室</li>
</ul>
</div>
</div>

<div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock"><ul><li><a href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/微信公众平台开发入门教程 - 方倍工作室 - 博客园.htm">1. 微信公众平台开发入门教程(279921)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/24/weixin-if1-enable.html">2. 微信公众平台消息接口开发（1）启用接口(75846)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/31/weixin-if2-enable.html">3. 你的服务器没有正确响应Token验证的解决方法(49404)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/08/01/csharp-json.html">4. C#解析json文件的方法(42348)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/07/16/scrapy-tutorial.html">5. Scrapy入门教程(31013)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/03/14/weixin-if0-api.html">6. 微信公众平台消息接口API指南(30101)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin71-oauth20.html">7. 微信公众平台开发（71）OAuth2.0网页授权(29170)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/02/07/weixin-if8-simsimi.html">8. 微信公众平台消息接口开发（8）小黄鸡(小贱鸡)机器人(27199)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/09/24/CSharp-WebBrowser.html">9. C#中的WebBrowser控件的使用(26562)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2011/10/13/ip_address_regular_expression.html">10. IP地址的正则表达式(23992)</a></li></ul></div>
</div>

<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock"><ul><li><a href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/微信公众平台开发入门教程 - 方倍工作室 - 博客园.htm">1. 微信公众平台开发入门教程(78)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/11/06/programmer-personal-work.html">2. 程序员接私活经验谈[转](55)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-api100.html">3. 接口100(40)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/02/26/weixin-if50-music.html">4. 微信公众平台消息接口开发（50）在线点歌/在线音乐(33)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/02/07/weixin-if8-simsimi.html">5. 微信公众平台消息接口开发（8）小黄鸡(小贱鸡)机器人(33)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/09/guchengzhonglou-weibo-timer.html">6. 古城钟楼微博地支报时程序铛，100行代码实现，价值一天20万粉丝(32)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/24/weixin-if1-enable.html">7. 微信公众平台消息接口开发（1）启用接口(25)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin76-user-info.html">8. 微信公众平台开发(76) 无高级接口账号获取用户基本信息(22)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/03/13/weixin-if24-face-recognize-api.html">9. 微信公众平台消息接口开发（24）图片识别之人脸识别API(21)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/07/16/scrapy-tutorial.html">10. Scrapy入门教程(16)</a></li></ul></div>
</div>

<div class="catListView">
<h3 class="catListTitle">推荐排行榜</h3>
<div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/txw1958/archive/2012/11/06/programmer-personal-work.html">1. 程序员接私活经验谈[转](36)</a></li><li><a href="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/微信公众平台开发入门教程 - 方倍工作室 - 博客园.htm">2. 微信公众平台开发入门教程(34)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/09/guchengzhonglou-weibo-timer.html">3. 古城钟楼微博地支报时程序铛，100行代码实现，价值一天20万粉丝(9)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/08/01/csharp-json.html">4. C#解析json文件的方法(9)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/24/weixin-if1-enable.html">5. 微信公众平台消息接口开发（1）启用接口(9)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/27/csharp-calendar.html">6. C#实现万年历(农历、节气、节日、星座、星宿、属相、生肖、闰年月、时辰)(8)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/09/03/csharp-thread-1.html">7. C#中的线程（一）入门(7)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/07/16/scrapy-tutorial.html">8. Scrapy入门教程(7)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin89-mass-send.html">9. 微信公众平台开发(89) 高级群发接口(5)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-weather-forecast.html">10. 微信公众平台开发(82)  天气预报(5)</a></li></ul></div>
</div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2014 方倍工作室
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
<!--PageEndHtml Block Begin-->
<div style="display:none;">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F674430fbddd66a488580ec86aba288f7' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/h.js" type="text/javascript"></script><a href="http://tongji.baidu.com/hm-web/welcome/ico?s=674430fbddd66a488580ec86aba288f7" target="_blank"><img border="0" src="./微信公众平台开发入门教程 - 方倍工作室 - 博客园_files/21.gif" width="20" height="20"></a>
</div>
<!--PageEndHtml Block End-->


</body></html>